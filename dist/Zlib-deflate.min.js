"use strict";(()=>{function z(e){for(var t=new Uint8Array(e.length),r=0;r<t.length;r++)t[r]=e[r].charCodeAt(0)&255;return t}var E={create(e){return typeof e=="string"?e=z(e):e instanceof Uint8Array||(e=new Uint8Array(e)),this.update(1,e)},update(e,t,r,a=0){var s=e&65535,i=e>>16&65535;for(r=r??t.length;r>0;){var h=r>this.OptimizationParameter?this.OptimizationParameter:r;r-=h;do s+=t[a++],i+=s;while(--h);s%=65521,i%=65521}return(i<<16|s)>>>0},OptimizationParameter:1024},q=8,O=32768,I=32768,C=32768,Z=32768,w=32768,m=class d{constructor(t,r=0){if(this.bitindex=0,this.buffer=t instanceof Uint8Array?t:new Uint8Array(Z),this.index=r,this.buffer.length*2<=this.index)throw new Error("invalid index");this.buffer.length<=this.index&&this.expandBuffer()}expandBuffer(){var t=this.buffer,r=new Uint8Array(t.length<<1);return r.set(t),this.buffer=r,r}rev32(t){return d.ReverseTable[t&255]<<24|d.ReverseTable[t>>>8&255]<<16|d.ReverseTable[t>>>16&255]<<8|d.ReverseTable[t>>>24&255]}writeBits(t,r,a=!1){var s=this.buffer,i=this.index,h=this.bitindex,f=s[i],n;if(a&&r>1&&(t=r>8?this.rev32(t)>>32-r:d.ReverseTable[t]>>8-r),r+h<8)f=f<<r|t,h+=r;else for(n=0;n<r;++n)f=f<<1|t>>r-n-1&1,++h===8&&(h=0,s[i++]=d.ReverseTable[f],f=0,i===s.length&&(s=this.expandBuffer()));s[i]=f,this.buffer=s,this.bitindex=h,this.index=i}finish(){var t=this.buffer,r=this.index,a;return this.bitindex>0&&(t[r]<<=8-this.bitindex,t[r]=d.ReverseTable[t[r]],r++),a=t.subarray(0,r),a}static init(){this.ReverseTable=new Uint8Array(256).map((t,r)=>{var a=r,s=7;for(r>>>=1;r;r>>>=1)a<<=1,a|=r&1,--s;return a<<s&255})}};m.init();var W=class{constructor(e){this.length=0,this.nodes=0,this.buffer=new Uint16Array(e*2)}getParent(e){return e-2>>2<<1}getChild(e){return 2*e+2}push(e,t){var r,a,s=this.buffer,i;for(r=this.length,s[this.length++]=t,s[this.length++]=e,this.nodes++;r>0&&(a=this.getParent(r),s[r]>s[a]);)i=s[r],s[r]=s[a],s[a]=i,i=s[r+1],s[r+1]=s[a+1],s[a+1]=i,r=a;return this.length}pop(){var e=this.buffer,t,r=e[0],a=e[1];this.nodes--,this.length-=2,e[0]=e[this.length],e[1]=e[this.length+1];for(var s=0;;){var i=this.getChild(s);if(i>=this.length)break;if(i+2<this.length&&e[i+2]>e[i]&&(i+=2),e[i]>e[s])t=e[s],e[s]=e[i],e[i]=t,t=e[s+1],e[s+1]=e[i+1],e[i+1]=t;else break;s=i}return{index:a,value:r,length:this.length}}};function B(e){var t=e.length,r,a,s,i,h,f,n=0,o=Number.POSITIVE_INFINITY;for(i=0;i<t;++i)e[i]>n&&(n=e[i]),e[i]<o&&(o=e[i]);var b=1<<n,v=new Uint32Array(b);for(r=1,a=0,s=2;r<=n;){for(i=0;i<t;++i)if(e[i]===r){var u=0,p=a;for(h=0;h<r;++h)u=u<<1|p&1,p>>=1;for(f=r<<16|i,h=u;h<b;h+=s)v[h]=f;++a}++r,a<<=1,s<<=1}return[v,n,o]}var D=258,x=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),M=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258]),T=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0]),S=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577]),U=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),H=function(){var e=new Uint8Array(288).map((t,r)=>r<=143?8:r<=255?9:r<=279?7:8);return B(e)}(),N=function(){var e=new Uint8Array(30).map(t=>5);return B(e)}(),Y=class{constructor(e,t={}){this.buffer=null,this.block=[],this.blocks=[],this.bufferSize=C,this.totalpos=0,this.ip=0,this.op=0,this.bitsbuf=0,this.bitsbuflen=0,this.bfinal=!1,this.bufferType=1,this.resize=!1,this.currentLitlenTable=null,this.input=e instanceof Uint8Array?e:new Uint8Array(e),this.ip=t.index??0,this.bufferSize=t.bufferSize??C,this.bufferType=t.bufferType??1,this.resize=t.resize??!1,this.bufferType==0?(this.op=w,this.output=new Uint8Array(w+this.bufferSize+D)):(this.op=0,this.output=new Uint8Array(this.bufferSize))}decompress(){for(;!this.bfinal;)this.parseBlock();switch(this.bufferType){case 0:return this.concatBufferBlock();case 1:return this.concatBufferDynamic();default:throw new Error("invalid inflate mode")}}parseBlock(){var e=this.readBits(3);switch(e&1&&(this.bfinal=!0),e>>>=1,e){case 0:this.parseUncompressedBlock();break;case 1:this.parseFixedHuffmanBlock();break;case 2:this.parseDynamicHuffmanBlock();break;default:throw new Error("unknown BTYPE: "+e)}}readBits(e){var t=this.bitsbuf,r=this.bitsbuflen,a=this.input,s=this.ip,i=a.length,h;if(s+(e-r+7>>3)>=i)throw new Error("input buffer is broken");for(;r<e;)t|=a[s++]<<r,r+=8;return h=t&(1<<e)-1,t>>>=e,r-=e,this.bitsbuf=t,this.bitsbuflen=r,this.ip=s,h}readCodeByTable(e){for(var t=this.bitsbuf,r=this.bitsbuflen,a=this.input,s=this.ip,i=a.length,h=e[0],f=e[1];r<f&&!(s>=i);)t|=a[s++]<<r,r+=8;var n=h[t&(1<<f)-1],o=n>>>16;if(o>r)throw new Error("invalid code length: "+o);return this.bitsbuf=t>>o,this.bitsbuflen=r-o,this.ip=s,n&65535}parseUncompressedBlock(){var e=this.input,t=this.ip,r=this.output,a=this.op,s=e.length,i=r.length;if(this.bitsbuf=0,this.bitsbuflen=0,t+1>=s)throw new Error("invalid uncompressed block header: LEN");var h=e[t++]|e[t++]<<8;if(t+1>=s)throw new Error("invalid uncompressed block header: NLEN");var f=e[t++]|e[t++]<<8;if(h===~f)throw new Error("invalid uncompressed block header: length verify");if(t+h>e.length)throw new Error("input buffer is broken");switch(this.bufferType){case 0:for(;a+h>r.length;){var n=i-a;h-=n,r.set(e.subarray(t,t+n),a),a+=n,t+=n,this.op=a,r=this.expandBufferBlock(),a=this.op}break;case 1:for(;a+h>r.length;)r=this.expandBufferAdaptive(0,2);break;default:throw new Error("invalid inflate mode")}r.set(e.subarray(t,t+h),a),a+=h,t+=h,this.ip=t,this.op=a,this.output=r}parseFixedHuffmanBlock(){switch(this.bufferType){case 1:this.decodeHuffmanAdaptive(H,N);break;case 0:this.decodeHuffmanBlock(H,N);break;default:throw new Error("invalid inflate mode")}}parseDynamicHuffmanBlock(){for(var e=this.readBits(5)+257,t=this.readBits(5)+1,r=this.readBits(4)+4,a=new Uint8Array(x.length),s=0;s<r;++s)a[x[s]]=this.readBits(3);for(var i=B(a),h=new Uint8Array(e+t),f=0,s=0;s<e+t;){var n=this.readCodeByTable(i);switch(n){case 16:for(var o=3+this.readBits(2);o--;)h[s++]=f;break;case 17:for(var o=3+this.readBits(3);o--;)h[s++]=0;f=0;break;case 18:for(var o=11+this.readBits(7);o--;)h[s++]=0;f=0;break;default:h[s++]=n,f=n;break}}var b=B(h.subarray(0,e)),v=B(h.subarray(e));switch(this.bufferType){case 1:this.decodeHuffmanAdaptive(b,v);break;case 0:this.decodeHuffmanBlock(b,v);break;default:throw new Error("invalid inflate mode")}}decodeHuffmanBlock(e,t){var r=this.output,a=this.op;this.currentLitlenTable=e;for(var s=r.length-D,i;(i=this.readCodeByTable(e))!==256;){if(i<256){a>=s&&(this.op=a,r=this.expandBufferBlock(),a=this.op),r[a++]=i;continue}var h=i-257,f=M[h];T[h]>0&&(f+=this.readBits(T[h])),i=this.readCodeByTable(t);var n=S[i];for(U[i]>0&&(n+=this.readBits(U[i])),a>=s&&(this.op=a,r=this.expandBufferBlock(),a=this.op);f--;)r[a]=r[a++-n]}for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=a}decodeHuffmanAdaptive(e,t){var r=this.output,a=this.op;this.currentLitlenTable=e;for(var s=r.length,i;(i=this.readCodeByTable(e))!==256;){if(i<256){a>=s&&(r=this.expandBufferAdaptive(),s=r.length),r[a++]=i;continue}var h=i-257,f=M[h];T[h]>0&&(f+=this.readBits(T[h])),i=this.readCodeByTable(t);var n=S[i];for(U[i]>0&&(n+=this.readBits(U[i])),a+f>s&&(r=this.expandBufferAdaptive(),s=r.length);f--;)r[a]=r[a++-n]}for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=a}expandBufferBlock(){var e=new Uint8Array(this.op-w),t=this.op-w,r=this.output;return e.set(r.subarray(w,e.length)),this.blocks.push(e),this.totalpos+=e.length,r.set(r.subarray(t,t+w)),this.op=w,r}expandBufferAdaptive(e=0,t){var r=Math.floor(this.input.length/this.ip+1),a,s=this.input,i=this.output;if(r=(t??r)+e,r<2){var h=(s.length-this.ip)/this.currentLitlenTable[2],f=Math.floor(h*129);a=f<i.length?i.length+f:i.length<<1}else a=i.length*r;var n=new Uint8Array(a);return n.set(i),this.output=n,this.output}concatBufferBlock(){var e=0,t=this.totalpos+(this.op-w),r=this.output,a=this.blocks,s=new Uint8Array(t),i,h;if(a.length===0)return this.output.subarray(w,this.op);for(var f=0;f<a.length;++f){var n=a[f];s.set(n,e),e+=n.length}for(var f=w;f<this.op;++f)s[e++]=r[f];return this.blocks=[],this.buffer=s,this.buffer}concatBufferDynamic(){var e=this.op,t;return this.resize?(t=new Uint8Array(e),t.set(this.output.subarray(0,e))):t=this.output.subarray(0,e),this.buffer=t,this.buffer}},A=3,F=258,V=32768,X={getLengthCode(e){switch(!0){case e===3:return[257,e-3,0];case e===4:return[258,e-4,0];case e===5:return[259,e-5,0];case e===6:return[260,e-6,0];case e===7:return[261,e-7,0];case e===8:return[262,e-8,0];case e===9:return[263,e-9,0];case e===10:return[264,e-10,0];case e<=12:return[265,e-11,1];case e<=14:return[266,e-13,1];case e<=16:return[267,e-15,1];case e<=18:return[268,e-17,1];case e<=22:return[269,e-19,2];case e<=26:return[270,e-23,2];case e<=30:return[271,e-27,2];case e<=34:return[272,e-31,2];case e<=42:return[273,e-35,3];case e<=50:return[274,e-43,3];case e<=58:return[275,e-51,3];case e<=66:return[276,e-59,3];case e<=82:return[277,e-67,4];case e<=98:return[278,e-83,4];case e<=114:return[279,e-99,4];case e<=130:return[280,e-115,4];case e<=162:return[281,e-131,5];case e<=194:return[282,e-163,5];case e<=226:return[283,e-195,5];case e<=257:return[284,e-227,5];case e===258:return[285,e-258,0];default:throw"invalid length: "+e}},getDistanceCode(e){switch(!0){case e===1:return[0,e-1,0];case e===2:return[1,e-2,0];case e===3:return[2,e-3,0];case e===4:return[3,e-4,0];case e<=6:return[4,e-5,1];case e<=8:return[5,e-7,1];case e<=12:return[6,e-9,2];case e<=16:return[7,e-13,2];case e<=24:return[8,e-17,3];case e<=32:return[9,e-25,3];case e<=48:return[10,e-33,4];case e<=64:return[11,e-49,4];case e<=96:return[12,e-65,5];case e<=128:return[13,e-97,5];case e<=192:return[14,e-129,6];case e<=256:return[15,e-193,6];case e<=384:return[16,e-257,7];case e<=512:return[17,e-385,7];case e<=768:return[18,e-513,8];case e<=1024:return[19,e-769,8];case e<=1536:return[20,e-1025,9];case e<=2048:return[21,e-1537,9];case e<=3072:return[22,e-2049,10];case e<=4096:return[23,e-3073,10];case e<=6144:return[24,e-4097,11];case e<=8192:return[25,e-6145,11];case e<=12288:return[26,e-8193,12];case e<=16384:return[27,e-12289,12];case e<=24576:return[28,e-16385,13];case e<=32768:return[29,e-24577,13];default:throw"invalid distance"}},create(e){return this.getLengthCode(e.len).concat(this.getDistanceCode(e.backwardDistance))}},P=class{constructor(e,t){this.table={},this.pos=0,this.prevMatch=null,this.skipLength=0,this.lazy=0,this.input=e,this.output=new Uint16Array(e.length*2),this.lazy=t,this.freqsLitLen=new Uint32Array(286),this.freqsLitLen[256]=1,this.freqsDist=new Uint32Array(30)}writeNum(e){this.output[this.pos++]=e}writeMatch(e,t){for(var r=X.create(e),a=0;a<r.length;a++)this.writeNum(r[a]);this.freqsLitLen[r[0]]++,this.freqsDist[r[3]]++,this.skipLength=e.len+t-1,this.prevMatch=null}maxMatchTest(e,t,r){for(var a=r;a>A;a--)if(this.input[e+a-1]!==this.input[t+a-1])return!1;return!0}searchLongestMatch(e,t){for(var r=t[t.length],a=0,s=this.input.length,i=0;i<t.length;i++){var h=t[t.length-i-1],f=A;if(a>A){var n=a;if(!this.maxMatchTest(h,e,a))continue;f=a}for(;f<F&&e+f<s&&this.input[h+f]==this.input[e+f];)f++;if(f>a&&(r=h,a=f),f==F)break}return{len:a,backwardDistance:e-r}}encode(){var e={},t,r=this.input.length;for(t=0;t<r;++t){for(var a=0,s=0;s<A&&t+s!==r;s++)a=a<<8|this.input[t+s];e[a]===void 0&&(e[a]=[]);var i=e[a];if(this.skipLength-- >0){i.push(t);continue}for(;i.length>0&&t-i[0]>V;)i.shift();if(t+A>=r){this.prevMatch&&this.writeMatch(this.prevMatch,-1);for(var s=t;s<r;s++){var h=this.input[s];this.writeNum(h),this.freqsLitLen[h]++}break}if(i.length>0){var f=this.searchLongestMatch(t,i);this.prevMatch?this.prevMatch.len<f.len?(h=this.input[t-1],this.writeNum(h),this.freqsLitLen[h]++,this.writeMatch(f,0)):this.writeMatch(this.prevMatch,-1):f.len<this.lazy?this.prevMatch=f:this.writeMatch(f,0)}else if(this.prevMatch)this.writeMatch(this.prevMatch,-1);else{var h=this.input[t];this.writeNum(h),this.freqsLitLen[h]++}i.push(t)}return this.writeNum(256),this.freqsLitLen[256]++,this.output=this.output.subarray(0,this.pos),this.output}},L=class{constructor(e,t=0){this.buffer=e,this.p=t,this.length=e.length}get pointer(){return this.p}set pointer(e){this.p=e}get offset(){return this.p}set offset(e){this.p=e}truncateBuffer(e){return this.buffer=this.buffer.subarray(0,e),this.length=e,this.buffer}expandLength(e){const t=new Uint8Array(e);return t.set(this.buffer),this.buffer=t,this.length=e,this.buffer}setLength(e){e>this.length?this.expandLength(e):this.truncateBuffer(e)}restoreBuffer(){this.buffer=new Uint8Array(this.buffer.buffer)}readByte(){return this.buffer[this.p++]}writeByte(e){this.buffer[this.p++]=e}readShort(){return this.buffer[this.p++]|this.buffer[this.p++]<<8}writeShort(e){this.buffer[this.p++]=e&255,this.buffer[this.p++]=e>>>8&255}readUint(){return(this.buffer[this.p++]|this.buffer[this.p++]<<8|this.buffer[this.p++]<<16|this.buffer[this.p++]<<24)>>>0}writeUint(e){this.buffer[this.p++]=e&255,this.buffer[this.p++]=e>>>8&255,this.buffer[this.p++]=e>>>16&255,this.buffer[this.p++]=e>>>24&255}readUintBE(){return(this.buffer[this.p++]<<24|this.buffer[this.p++]<<16|this.buffer[this.p++]<<8|this.buffer[this.p++])>>>0}writeUintBE(e){this.buffer[this.p++]=e>>>24&255,this.buffer[this.p++]=e>>>16&255,this.buffer[this.p++]=e>>>8&255,this.buffer[this.p++]=e&255}readArray(e){return this.buffer.subarray(this.p,this.p+=e)}writeArray(e){this.buffer.set(e,this.p),this.p+=e.length}readString(e){return new TextDecoder().decode(this.readArray(e))}writeString(e){this.writeArray(new TextEncoder().encode(e))}readAscii(e){var t="",r=this.readArray(e);return r.forEach(a=>{t+=String.fromCharCode(a)}),t}writeAscii(e){this.writeArray(z(e))}},G=16,J=286,Q=function(){var e=[],t;for(t=0;t<288;t++)switch(!0){case t<=143:e.push([t+48,8]);break;case t<=255:e.push([t-144+400,9]);break;case t<=279:e.push([t-256+0,7]);break;case t<=287:e.push([t-280+192,8]);break;default:throw"invalid literal: "+t}return e}(),$=class{constructor(e,t={}){this.op=0,this.input=e instanceof Uint8Array?e:new Uint8Array(e),this.lazy=t.lazy??0,this.compressionType=t.compressionType??2,t.outputBuffer?this.output=t.outputBuffer instanceof Uint8Array?t.outputBuffer:new Uint8Array(t.outputBuffer):this.output=new Uint8Array(I),this.op=t.outputIndex??0}compress(){var e=this.input,t=e.length;switch(this.compressionType){case 0:for(var r=0,t=e.length;r<t;){var a=e.subarray(r,r+65535);r+=a.length,this.makeNocompressBlock(a,r===t)}break;case 1:this.output=this.makeFixedHuffmanBlock(e,!0),this.op=this.output.length;break;case 2:this.output=this.makeDynamicHuffmanBlock(e,!0),this.op=this.output.length;break;default:throw"invalid compression type"}return this.output}makeNocompressBlock(e,t){var r=this.output;r=new Uint8Array(this.output.buffer);for(var a=new L(r,this.op),i=r.length;i<=this.op+e.length+5;)i=i<<1;a.expandLength(i);var s=0;a.writeByte((t?1:0)|s<<1);var i=e.length,h=i^65535;return a.writeShort(i),a.writeShort(h),a.writeArray(e),a.truncateBuffer(a.p),this.output=a.buffer,this.op=a.p,r}makeFixedHuffmanBlock(e,t){var r=new m(new Uint8Array(this.output.buffer),this.op);r.writeBits(t?1:0,1,!0),r.writeBits(1,2,!0);var a=new P(e,this.lazy);return a.encode(),this.fixedHuffman(a,r),r.finish()}makeDynamicHuffmanBlock(e,t){var r=new m(new Uint8Array(this.output.buffer),this.op);r.writeBits(t?1:0,1,!0),r.writeBits(2,2,!0);var a=new P(e,this.lazy),s=a.encode(),i=this.getLengths(a.freqsLitLen,15),h=this.getCodesFromLengths(i),f=this.getLengths(a.freqsDist,7),n=this.getCodesFromLengths(f),o,b;for(o=286;o>257&&i[o-1]===0;o--);for(b=30;b>1&&f[b-1]===0;b--);var v=this.getTreeSymbols(o,i,b,f),u=this.getLengths(v.freqs,7),p=new Array(19);for(c=0;c<19;c++)p[c]=u[x[c]];for(var k=19;k>4&&p[k-1]===0;k--);var g=this.getCodesFromLengths(u);for(r.writeBits(o-257,5,!0),r.writeBits(b-1,5,!0),r.writeBits(k-4,4,!0),c=0;c<k;c++)r.writeBits(p[c],3,!0);for(var c=0;c<v.codes.length;c++){var l=v.codes[c],y;if(r.writeBits(g[l],u[l],!0),l>=16){switch(c++,l){case 16:y=2;break;case 17:y=3;break;case 18:y=7;break;default:throw"invalid code: "+l}r.writeBits(v.codes[c],y,!0)}}return this.dynamicHuffman(s,[h,i],[n,f],r),r.finish()}dynamicHuffman(e,t,r,a){for(var s=t[0],i=t[1],h=r[0],f=r[1],n=0;n<e.length;++n){var o=e[n],b;if(a.writeBits(s[o],i[o],!0),o>256)a.writeBits(e[++n],e[++n],!0),b=e[++n],a.writeBits(h[b],f[b],!0),a.writeBits(e[++n],e[++n],!0);else if(o===256)break}return a}fixedHuffman(e,t){for(var r=e.output,a=0;a<r.length;a++){var s=r[a],i=Q[s];if(t.writeBits(i[0],i[1]),s>256)t.writeBits(r[++a],r[++a],!0),t.writeBits(r[++a],5),t.writeBits(r[++a],r[++a],!0);else if(s===256)break}return t}getTreeSymbols(e,t,r,a){var s=new Uint32Array(e+r),i,h,f=e+r,n=new Uint32Array(316),o=new Uint8Array(19);for(h=0,i=0;i<e;i++)s[h++]=t[i];for(i=0;i<r;i++)s[h++]=a[i];var b=0;for(i=0,f=s.length;i<f;i+=h){for(h=1;i+h<f&&s[i+h]===s[i];++h);var v=h;if(s[i]===0)if(v<3)for(;v-- >0;)n[b++]=0,o[0]++;else for(;v>0;){var u=v<138?v:138;u>v-3&&u<v&&(u=v-3),u<=10?(n[b++]=17,n[b++]=u-3,o[17]++):(n[b++]=18,n[b++]=u-11,o[18]++),v-=u}else if(n[b++]=s[i],o[s[i]]++,v--,v<3)for(;v-- >0;)n[b++]=s[i],o[s[i]]++;else for(;v>0;){var u=v<6?v:6;u>v-3&&u<v&&(u=v-3),n[b++]=16,n[b++]=u-3,o[16]++,v-=u}}return{codes:n.subarray(0,b),freqs:o}}getLengths(e,t){for(var r=e.length,a=new W(2*J),s=new Uint8Array(r),i=0;i<r;++i)e[i]>0&&a.push(i,e[i]);var h=new Array(a.nodes),f=new Uint32Array(a.nodes);if(h.length===1)return s[a.pop().index]=1,s;for(var n=a.nodes,i=0;i<n;++i)h[i]=a.pop(),f[i]=h[i].value;var o=this.reversePackageMerge(f,f.length,t);for(i=0;i<h.length;++i)s[h[i].index]=o[i];return s}reversePackageMerge(e,t,r){var a=new Uint16Array(r),s=new Array(r),i=new Uint8Array(t).fill(r),h=new Array(r),f=new Array(r),n=new Array(r).fill(0);function o(l){var y=f[l][n[l]];y===t?(o(l+1),o(l+1)):i[y]--,n[l]++}a[r-1]=t;for(var b=(1<<r)-t,v=1<<r-1,u=0;u<r;++u)b<v?s[u]=!1:(s[u]=!0,b-=v),b<<=1,a[r-2-u]=(a[r-1-u]>>>1)+t;a[0]=Number(s[0]),h[0]=new Array(a[0]),f[0]=new Array(a[0]);for(var u=1;u<r;++u)a[u]>2*a[u-1]+Number(s[u])&&(a[u]=2*a[u-1]+Number(s[u])),h[u]=new Array(a[u]),f[u]=new Array(a[u]);for(var p=0;p<a[r-1];++p)h[r-1][p]=e[p],f[r-1][p]=p;s[r-1]&&(i[0]--,n[r-1]++);for(var u=r-2;u>=0;u--){for(var k=0,g=n[u+1],p=0;p<a[u];p++){var c=h[u+1][g]+h[u+1][g+1];c>e[k]?(h[u][p]=c,f[u][p]=t,g+=2):(h[u][p]=e[k],f[u][p]=k,k++)}n[u]=0,s[u]&&o(u)}return i}getCodesFromLengths(e){for(var t=new Uint16Array(e.length),r=[],a=[],s=0,i,h,f=0;f<e.length;f++)r[e[f]]=(r[e[f]]??0)+1;for(var f=1;f<=G;f++)a[f]=s,s+=r[f]??0,s<<=1;for(var f=0;f<e.length;f++)for(s=a[e[f]],a[e[f]]+=1,t[f]=0,i=0;i<e[f];i++)t[f]=t[f]<<1|s&1,s>>>=1;return t}},_=class R{constructor(t,r={}){this.adler32=null,this.input=t,this.output=new Uint8Array(O);var a={};this.compressionType=r.compressionType??2,Object.assign(a,r),a.outputBuffer=this.output,this.rawDeflate=new $(this.input,a)}static compress(t,r){return new R(t,r).compress()}compress(){var t=new L(this.output,0),r=120;t.writeByte(r);var a=0,s=this.compressionType,i=s<<6|a<<5,h=31-((r<<8)+i)%31;i|=h,t.writeByte(i);var f=E.create(this.input);this.adler32=f,this.rawDeflate.op=t.p;var n=this.rawDeflate.compress(),o=n.length;return t.buffer=n,t.restoreBuffer(),t.setLength(o+4),t.p=o,t.writeUintBE(f),this.output=t.buffer,this.output}},j=class{constructor(e,t={}){this.ip=0,this.adler32=null,this.input=e,this.ip=t.index??0,this.verify=t.verify??!1;var r=e[this.ip++],a=e[this.ip++];if((r&15)!=q)throw new Error("unsupported compression method");if(((r<<8)+a)%31!==0)throw new Error("invalid fcheck flag:"+((r<<8)+a)%31);if(a&32)throw new Error("fdict flag is not supported");this.rawinflate=new Y(e,{index:this.ip,bufferSize:t.bufferSize,bufferType:t.bufferType,resize:t.resize})}decompress(){var e=this.input,t;if(t=this.rawinflate.decompress(),this.ip=this.rawinflate.ip,this.verify){var r=new L(e,this.ip),a=E.create(t);if(this.adler32=a,a!==r.readUintBE())throw new Error("invalid adler-32 checksum")}return t}},K={Deflate:_,Inflate:j};window.Zlib=K})();
