"use strict";(()=>{function I(t){for(var r=new Uint8Array(t.length),e=0;e<r.length;e++)r[e]=t[e].charCodeAt(0)&255;return r}var z={create(t){return typeof t=="string"&&(t=I(t)),this.update(1,t)},update(t,r){for(var e=t&65535,i=t>>16&65535,s=r.length,a=0;s>0;){var f=s>this.OptimizationParameter?this.OptimizationParameter:s;s-=f;do e+=r[a++],i+=e;while(--f);e%=65521,i%=65521}return(i<<16|e)>>>0},OptimizationParameter:1024},m=class B{constructor(r,e=0){if(this.bitindex=0,this.index=e,this.buffer=r instanceof Uint8Array?r:new Uint8Array(B.DefaultBlockSize),this.buffer.length*2<=this.index)throw new Error("invalid index");this.buffer.length<=this.index&&this.expandBuffer()}static{this.DefaultBlockSize=32768}expandBuffer(){var r=this.buffer,e=new Uint8Array(r.length<<1);return e.set(r),this.buffer=e,e}rev32(r){return B.ReverseTable[r&255]<<24|B.ReverseTable[r>>>8&255]<<16|B.ReverseTable[r>>>16&255]<<8|B.ReverseTable[r>>>24&255]}writeBits(r,e,i=!1){var s=this.buffer,a=this.index,f=this.bitindex,u=s[a],n;if(i&&e>1&&(r=e>8?this.rev32(r)>>32-e:B.ReverseTable[r]>>8-e),e+f<8)u=u<<e|r,f+=e;else for(n=0;n<e;++n)u=u<<1|r>>e-n-1&1,++f===8&&(f=0,s[a++]=B.ReverseTable[u],u=0,a===s.length&&(s=this.expandBuffer()));s[a]=u,this.buffer=s,this.bitindex=f,this.index=a}finish(){var r=this.buffer,e=this.index,i;return this.bitindex>0&&(r[e]<<=8-this.bitindex,r[e]=B.ReverseTable[r[e]],e++),i=r.subarray(0,e),i}static{this.ReverseTable=function(){for(var r=new Uint8Array(256),e=0;e<256;++e){var i=e,s=7;for(e>>>=1;e;e>>>=1)i<<=1,i|=e&1,--s;r[e]=i<<s&255}return r}()}},O=class{constructor(t){this.buffer=new Uint16Array(t*2),this.length=0}getParent(t){return((t-2)/4|0)*2}getChild(t){return 2*t+2}push(t,r){var e,i,s=this.buffer,a;for(e=this.length,s[this.length++]=r,s[this.length++]=t;e>0&&(i=this.getParent(e),s[e]>s[i]);)a=s[e],s[e]=s[i],s[i]=a,a=s[e+1],s[e+1]=s[i+1],s[i+1]=a,e=i;return this.length}pop(){var t,r,e=this.buffer,i,s,a;for(r=e[0],t=e[1],this.length-=2,e[0]=e[this.length],e[1]=e[this.length+1],a=0;s=this.getChild(a),!(s>=this.length);){if(s+2<this.length&&e[s+2]>e[s]&&(s+=2),e[s]>e[a])i=e[a],e[a]=e[s],e[s]=i,i=e[a+1],e[a+1]=e[s+1],e[s+1]=i;else break;a=s}return{index:t,value:r,length:this.length}}};function y(t){var r=t.length,e,i,s,a,f,u,n=0,o=Number.POSITIVE_INFINITY;for(a=0;a<r;++a)t[a]>n&&(n=t[a]),t[a]<o&&(o=t[a]);var c=1<<n,v=new Uint32Array(c);for(e=1,i=0,s=2;e<=n;){for(a=0;a<r;++a)if(t[a]===e){var h=0,b=i;for(f=0;f<e;++f)h=h<<1|b&1,b>>=1;for(u=e<<16|a,f=h;f<c;f+=s)v[f]=u;++i}++e,i<<=1,s<<=1}return[v,n,o]}var C=8,q=32768,W=32768,E=32768,d=32768,H=258,L=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),S=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258]),A=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0]),F=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577]),U=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),M=function(){var t=new Uint8Array(288),r,e;for(r=0,e=t.length;r<e;++r)t[r]=r<=143?8:r<=255?9:r<=279?7:8;return y(t)}(),Z=function(){var t=new Uint8Array(30),r,e;for(r=0,e=t.length;r<e;++r)t[r]=5;return y(t)}(),Y=class{constructor(t,r={}){this.buffer=null,this.block=[],this.blocks=[],this.bufferSize=E,this.totalpos=0,this.ip=0,this.op=0,this.bitsbuf=0,this.bitsbuflen=0,this.bfinal=!1,this.bufferType=1,this.resize=!1,this.currentLitlenTable=null,this.input=t instanceof Uint8Array?t:new Uint8Array(t),this.ip=r.index??0,this.bufferSize=r.bufferSize??E,this.bufferType=r.bufferType??1,this.resize=r.resize??!1,this.bufferType==0?(this.op=d,this.output=new Uint8Array(d+this.bufferSize+H)):(this.op=0,this.output=new Uint8Array(this.bufferSize))}decompress(){for(;!this.bfinal;)this.parseBlock();switch(this.bufferType){case 0:return this.concatBufferBlock();case 1:return this.concatBufferDynamic();default:throw new Error("invalid inflate mode")}}parseBlock(){var t=this.readBits(3);switch(t&1&&(this.bfinal=!0),t>>>=1,t){case 0:this.parseUncompressedBlock();break;case 1:this.parseFixedHuffmanBlock();break;case 2:this.parseDynamicHuffmanBlock();break;default:throw new Error("unknown BTYPE: "+t)}}readBits(t){var r=this.bitsbuf,e=this.bitsbuflen,i=this.input,s=this.ip,a=i.length,f;if(s+(t-e+7>>3)>=a)throw new Error("input buffer is broken");for(;e<t;)r|=i[s++]<<e,e+=8;return f=r&(1<<t)-1,r>>>=t,e-=t,this.bitsbuf=r,this.bitsbuflen=e,this.ip=s,f}readCodeByTable(t){for(var r=this.bitsbuf,e=this.bitsbuflen,i=this.input,s=this.ip,a=i.length,f=t[0],u=t[1];e<u&&!(s>=a);)r|=i[s++]<<e,e+=8;var n=f[r&(1<<u)-1],o=n>>>16;if(o>e)throw new Error("invalid code length: "+o);return this.bitsbuf=r>>o,this.bitsbuflen=e-o,this.ip=s,n&65535}parseUncompressedBlock(){var t=this.input,r=this.ip,e=this.output,i=this.op,s=t.length,a=e.length;if(this.bitsbuf=0,this.bitsbuflen=0,r+1>=s)throw new Error("invalid uncompressed block header: LEN");var f=t[r++]|t[r++]<<8;if(r+1>=s)throw new Error("invalid uncompressed block header: NLEN");var u=t[r++]|t[r++]<<8;if(f===~u)throw new Error("invalid uncompressed block header: length verify");if(r+f>t.length)throw new Error("input buffer is broken");switch(this.bufferType){case 0:for(;i+f>e.length;){var n=a-i;f-=n,e.set(t.subarray(r,r+n),i),i+=n,r+=n,this.op=i,e=this.expandBufferBlock(),i=this.op}break;case 1:for(;i+f>e.length;)e=this.expandBufferAdaptive(0,2);break;default:throw new Error("invalid inflate mode")}e.set(t.subarray(r,r+f),i),i+=f,r+=f,this.ip=r,this.op=i,this.output=e}parseFixedHuffmanBlock(){switch(this.bufferType){case 1:this.decodeHuffmanAdaptive(M,Z);break;case 0:this.decodeHuffmanBlock(M,Z);break;default:throw new Error("invalid inflate mode")}}parseDynamicHuffmanBlock(){for(var t=this.readBits(5)+257,r=this.readBits(5)+1,e=this.readBits(4)+4,i=new Uint8Array(L.length),s=0;s<e;++s)i[L[s]]=this.readBits(3);for(var a=y(i),f=new Uint8Array(t+r),u=0,s=0;s<t+r;){var n=this.readCodeByTable(a);switch(n){case 16:for(var o=3+this.readBits(2);o--;)f[s++]=u;break;case 17:for(var o=3+this.readBits(3);o--;)f[s++]=0;u=0;break;case 18:for(var o=11+this.readBits(7);o--;)f[s++]=0;u=0;break;default:f[s++]=n,u=n;break}}var c=y(f.subarray(0,t)),v=y(f.subarray(t));switch(this.bufferType){case 1:this.decodeHuffmanAdaptive(c,v);break;case 0:this.decodeHuffmanBlock(c,v);break;default:throw new Error("invalid inflate mode")}}decodeHuffmanBlock(t,r){var e=this.output,i=this.op;this.currentLitlenTable=t;for(var s=e.length-H,a;(a=this.readCodeByTable(t))!==256;){if(a<256){i>=s&&(this.op=i,e=this.expandBufferBlock(),i=this.op),e[i++]=a;continue}var f=a-257,u=S[f];A[f]>0&&(u+=this.readBits(A[f])),a=this.readCodeByTable(r);var n=F[a];for(U[a]>0&&(n+=this.readBits(U[a])),i>=s&&(this.op=i,e=this.expandBufferBlock(),i=this.op);u--;)e[i]=e[i++-n]}for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=i}decodeHuffmanAdaptive(t,r){var e=this.output,i=this.op;this.currentLitlenTable=t;for(var s=e.length,a;(a=this.readCodeByTable(t))!==256;){if(a<256){i>=s&&(e=this.expandBufferAdaptive(),s=e.length),e[i++]=a;continue}var f=a-257,u=S[f];A[f]>0&&(u+=this.readBits(A[f])),a=this.readCodeByTable(r);var n=F[a];for(U[a]>0&&(n+=this.readBits(U[a])),i+u>s&&(e=this.expandBufferAdaptive(),s=e.length);u--;)e[i]=e[i++-n]}for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=i}expandBufferBlock(){var t=new Uint8Array(this.op-d),r=this.op-d,e=this.output;return t.set(e.subarray(d,t.length)),this.blocks.push(t),this.totalpos+=t.length,e.set(e.subarray(r,r+d)),this.op=d,e}expandBufferAdaptive(t=0,r){var e=Math.floor(this.input.length/this.ip+1),i,s=this.input,a=this.output;if(e=(r??e)+t,e<2){var f=(s.length-this.ip)/this.currentLitlenTable[2],u=Math.floor(f/2*258);i=u<a.length?a.length+u:a.length<<1}else i=a.length*e;var n=new Uint8Array(i);return n.set(a),this.output=n,this.output}concatBufferBlock(){var t=0,r=this.totalpos+(this.op-d),e=this.output,i=this.blocks,s=new Uint8Array(r),a,f;if(i.length===0)return this.output.subarray(d,this.op);for(var u=0;u<i.length;++u){var n=i[u];s.set(n,t),t+=n.length}for(var u=d;u<this.op;++u)s[t++]=e[u];return this.blocks=[],this.buffer=s,this.buffer}concatBufferDynamic(){var t=this.op,r;return this.resize?(r=new Uint8Array(t),r.set(this.output.subarray(0,t))):r=this.output.subarray(0,t),this.buffer=r,this.buffer}},g=3,P=258,V=32768,X=16,G=286,J=function(){var t=[],r;for(r=0;r<288;r++)switch(!0){case r<=143:t.push([r+48,8]);break;case r<=255:t.push([r-144+400,9]);break;case r<=279:t.push([r-256+0,7]);break;case r<=287:t.push([r-280+192,8]);break;default:throw"invalid literal: "+r}return t}(),Q=class R{constructor(r,e){this.length=r,this.backwardDistance=e}static{this.LengthCodeTable=function(){var r=[],e,i;for(e=3;e<=258;e++)i=s(e),r[e]=i[2]<<24|i[1]<<16|i[0];function s(a){switch(!0){case a===3:return[257,a-3,0];case a===4:return[258,a-4,0];case a===5:return[259,a-5,0];case a===6:return[260,a-6,0];case a===7:return[261,a-7,0];case a===8:return[262,a-8,0];case a===9:return[263,a-9,0];case a===10:return[264,a-10,0];case a<=12:return[265,a-11,1];case a<=14:return[266,a-13,1];case a<=16:return[267,a-15,1];case a<=18:return[268,a-17,1];case a<=22:return[269,a-19,2];case a<=26:return[270,a-23,2];case a<=30:return[271,a-27,2];case a<=34:return[272,a-31,2];case a<=42:return[273,a-35,3];case a<=50:return[274,a-43,3];case a<=58:return[275,a-51,3];case a<=66:return[276,a-59,3];case a<=82:return[277,a-67,4];case a<=98:return[278,a-83,4];case a<=114:return[279,a-99,4];case a<=130:return[280,a-115,4];case a<=162:return[281,a-131,5];case a<=194:return[282,a-163,5];case a<=226:return[283,a-195,5];case a<=257:return[284,a-227,5];case a===258:return[285,a-258,0];default:throw"invalid length: "+a}}return new Uint32Array(r)}()}getDistanceCode(r){var e;switch(!0){case r===1:e=[0,r-1,0];break;case r===2:e=[1,r-2,0];break;case r===3:e=[2,r-3,0];break;case r===4:e=[3,r-4,0];break;case r<=6:e=[4,r-5,1];break;case r<=8:e=[5,r-7,1];break;case r<=12:e=[6,r-9,2];break;case r<=16:e=[7,r-13,2];break;case r<=24:e=[8,r-17,3];break;case r<=32:e=[9,r-25,3];break;case r<=48:e=[10,r-33,4];break;case r<=64:e=[11,r-49,4];break;case r<=96:e=[12,r-65,5];break;case r<=128:e=[13,r-97,5];break;case r<=192:e=[14,r-129,6];break;case r<=256:e=[15,r-193,6];break;case r<=384:e=[16,r-257,7];break;case r<=512:e=[17,r-385,7];break;case r<=768:e=[18,r-513,8];break;case r<=1024:e=[19,r-769,8];break;case r<=1536:e=[20,r-1025,9];break;case r<=2048:e=[21,r-1537,9];break;case r<=3072:e=[22,r-2049,10];break;case r<=4096:e=[23,r-3073,10];break;case r<=6144:e=[24,r-4097,11];break;case r<=8192:e=[25,r-6145,11];break;case r<=12288:e=[26,r-8193,12];break;case r<=16384:e=[27,r-12289,12];break;case r<=24576:e=[28,r-16385,13];break;case r<=32768:e=[29,r-24577,13];break;default:throw"invalid distance"}return e}toLZ77Array(){var r=[],e=0,i=R.LengthCodeTable[this.length];r[e++]=i&65535,r[e++]=i>>16&255,r[e++]=i>>24;var s=this.getDistanceCode(this.backwardDistance);return r[e++]=s[0],r[e++]=s[1],r[e++]=s[2],r}},$=class{constructor(t,r={}){this.freqsLitLen=null,this.freqsDist=null,this.op=0,this.input=t instanceof Uint8Array?t:new Uint8Array(t),this.lazy=r.lazy??0,this.compressionType=r.compressionType??2,r.outputBuffer?this.output=r.outputBuffer instanceof Uint8Array?r.outputBuffer:new Uint8Array(r.outputBuffer):this.output=new Uint8Array(W),this.op=r.outputIndex??0}compress(){var t=this.input,r=t.length;switch(this.compressionType){case 0:for(var e=0,r=t.length;e<r;){var i=t.subarray(e,e+65535);e+=i.length,this.makeNocompressBlock(i,e===r)}break;case 1:this.output=this.makeFixedHuffmanBlock(t,!0),this.op=this.output.length;break;case 2:this.output=this.makeDynamicHuffmanBlock(t,!0),this.op=this.output.length;break;default:throw"invalid compression type"}return this.output}makeNocompressBlock(t,r){var e=this.output,i=this.op;for(e=new Uint8Array(this.output.buffer);e.length<=i+t.length+5;)e=new Uint8Array(e.length<<1);e.set(this.output);var s=0;e[i++]=(r?1:0)|s<<1;var a=t.length,f=~a+65536&65535;return e[i++]=a&255,e[i++]=a>>>8&255,e[i++]=f&255,e[i++]=f>>>8&255,e.set(t,i),i+=t.length,e=e.subarray(0,i),this.op=i,this.output=e,e}makeFixedHuffmanBlock(t,r){var e=new m(new Uint8Array(this.output.buffer),this.op);e.writeBits(r?1:0,1,!0),e.writeBits(1,2,!0);var i=this.LZ77(t);return this.fixedHuffman(i,e),e.finish()}makeDynamicHuffmanBlock(t,r){var e=new m(new Uint8Array(this.output.buffer),this.op);e.writeBits(r?1:0,1,!0),e.writeBits(2,2,!0);var i=this.LZ77(t),s=this.getLengths(this.freqsLitLen,15),a=this.getCodesFromLengths(s),f=this.getLengths(this.freqsDist,7),u=this.getCodesFromLengths(f),n,o;for(n=286;n>257&&s[n-1]===0;n--);for(o=30;o>1&&f[o-1]===0;o--);var c=this.getTreeSymbols(n,s,o,f),v=this.getLengths(c.freqs,7),h=new Array(19);for(l=0;l<19;l++)h[l]=v[L[l]];for(var b=19;b>4&&h[b-1]===0;b--);var p=this.getCodesFromLengths(v);for(e.writeBits(n-257,5,!0),e.writeBits(o-1,5,!0),e.writeBits(b-4,4,!0),l=0;l<b;l++)e.writeBits(h[l],3,!0);for(var l=0;l<c.codes.length;l++){var k=c.codes[l],w;if(e.writeBits(p[k],v[k],!0),k>=16){switch(l++,k){case 16:w=2;break;case 17:w=3;break;case 18:w=7;break;default:throw"invalid code: "+k}e.writeBits(c.codes[l],w,!0)}}return this.dynamicHuffman(i,[a,s],[u,f],e),e.finish()}dynamicHuffman(t,r,e,i){for(var s=r[0],a=r[1],f=e[0],u=e[1],n=0;n<t.length;++n){var o=t[n],c;if(i.writeBits(s[o],a[o],!0),o>256)i.writeBits(t[++n],t[++n],!0),c=t[++n],i.writeBits(f[c],u[c],!0),i.writeBits(t[++n],t[++n],!0);else if(o===256)break}return i}fixedHuffman(t,r){for(var e=0;e<t.length;e++){var i=t[e];if(m.prototype.writeBits.apply(r,J[i]),i>256)r.writeBits(t[++e],t[++e],!0),r.writeBits(t[++e],5),r.writeBits(t[++e],t[++e],!0);else if(i===256)break}return r}LZ77(t){var r={},e=null,i=new Uint16Array(t.length*2),s=0,a=0,f=new Uint32Array(30),u=this.lazy,n,o=new Uint32Array(286);o[256]=1;function c(T,ee){for(var x=T.toLZ77Array(),D=0;D<x.length;++D)i[s++]=x[D];o[x[0]]++,f[x[3]]++,a=T.length+ee-1,e=null}var v,h=t.length;for(v=0;v<h;++v){for(var b=0,p=0;p<g&&v+p!==h;++p)b=b<<8|t[v+p];r[b]===void 0&&(r[b]=[]);var l=r[b];if(a-- >0){l.push(v);continue}for(;l.length>0&&v-l[0]>V;)l.shift();if(v+g>=h){e&&c(e,-1);for(var p=0,k=h-v;p<k;++p)n=t[v+p],i[s++]=n,++o[n];break}if(l.length>0){var w=this.searchLongestMatch(t,v,l);e?e.length<w.length?(n=t[v-1],i[s++]=n,++o[n],c(w,0)):c(e,-1):w.length<u?e=w:c(w,0)}else e?c(e,-1):(n=t[v],i[s++]=n,++o[n]);l.push(v)}return i[s++]=256,o[256]++,this.freqsLitLen=o,this.freqsDist=f,i.subarray(0,s)}searchLongestMatch(t,r,e){var i,s=0,a=t.length;e:for(var f=0;f<e.length;f++){var u=e[e.length-f-1],n=g;if(s>g){for(var o=s;o>g;o--)if(t[u+o-1]!==t[r+o-1])continue e;n=s}for(;n<P&&r+n<a&&t[u+n]===t[r+n];)++n;if(n>s&&(i=u,s=n),n===P)break}return new Q(s,r-i)}getTreeSymbols(t,r,e,i){var s=new Uint32Array(t+e),a,f,u=t+e,n=new Uint32Array(316),o=new Uint8Array(19);for(f=0,a=0;a<t;a++)s[f++]=r[a];for(a=0;a<e;a++)s[f++]=i[a];var c=0;for(a=0,u=s.length;a<u;a+=f){for(f=1;a+f<u&&s[a+f]===s[a];++f);var v=f;if(s[a]===0)if(v<3)for(;v-- >0;)n[c++]=0,o[0]++;else for(;v>0;){var h=v<138?v:138;h>v-3&&h<v&&(h=v-3),h<=10?(n[c++]=17,n[c++]=h-3,o[17]++):(n[c++]=18,n[c++]=h-11,o[18]++),v-=h}else if(n[c++]=s[a],o[s[a]]++,v--,v<3)for(;v-- >0;)n[c++]=s[a],o[s[a]]++;else for(;v>0;){var h=v<6?v:6;h>v-3&&h<v&&(h=v-3),n[c++]=16,n[c++]=h-3,o[16]++,v-=h}}return{codes:n.subarray(0,c),freqs:o}}getLengths(t,r){for(var e=t.length,i=new O(2*G),s=new Uint8Array(e),a=0;a<e;++a)t[a]>0&&i.push(a,t[a]);var f=new Array(i.length/2),u=new Uint32Array(i.length/2);if(f.length===1)return s[i.pop().index]=1,s;for(var n=i.length/2,a=0;a<n;++a)f[a]=i.pop(),u[a]=f[a].value;var o=this.reversePackageMerge(u,u.length,r);for(a=0;a<f.length;++a)s[f[a].index]=o[a];return s}reversePackageMerge(t,r,e){var i=new Uint16Array(e),s=new Uint8Array(e),a=new Uint8Array(r),f=new Array(e),u=new Array(e),n=new Array(e);function o(w){var T=u[w][n[w]];T===r?(o(w+1),o(w+1)):--a[T],++n[w]}i[e-1]=r;for(var c=(1<<e)-r,v=1<<e-1,h=0;h<e;++h)c<v?s[h]=0:(s[h]=1,c-=v),c<<=1,i[e-2-h]=(i[e-1-h]/2|0)+r;i[0]=s[0],f[0]=new Array(i[0]),u[0]=new Array(i[0]);for(var h=1;h<e;++h)i[h]>2*i[h-1]+s[h]&&(i[h]=2*i[h-1]+s[h]),f[h]=new Array(i[h]),u[h]=new Array(i[h]);for(var b=0;b<r;++b)a[b]=e;for(var p=0;p<i[e-1];++p)f[e-1][p]=t[p],u[e-1][p]=p;for(var b=0;b<e;++b)n[b]=0;s[e-1]===1&&(--a[0],++n[e-1]);for(var h=e-2;h>=0;--h){for(var b=0,l=0,k=n[h+1],p=0;p<i[h];p++)l=f[h+1][k]+f[h+1][k+1],l>t[b]?(f[h][p]=l,u[h][p]=r,k+=2):(f[h][p]=t[b],u[h][p]=b,++b);n[h]=0,s[h]===1&&o(h)}return a}getCodesFromLengths(t){for(var r=new Uint16Array(t.length),e=[],i=[],s=0,a,f,u,n=0;n<t.length;n++)e[t[n]]=(e[t[n]]|0)+1;for(var n=1;n<=X;n++)i[n]=s,s+=e[n]|0,s<<=1;for(var n=0;n<t.length;n++)for(s=i[t[n]],i[t[n]]+=1,r[n]=0,f=0,u=t[n];f<u;f++)r[n]=r[n]<<1|s&1,s>>>=1;return r}},K=class N{constructor(r,e={}){this.input=r,this.output=new Uint8Array(q);var i={};this.compressionType=e.compressionType??2,Object.assign(i,e),i.outputBuffer=this.output,this.rawDeflate=new $(this.input,i)}static compress(r,e){return new N(r,e).compress()}compress(){var r=this.output,e=0,i=7,s=i<<4|C;r[e++]=s;var a=0,f=this.compressionType,u=f<<6|a<<5,n=31-(s*256+u)%31;u|=n,r[e++]=u;var o=z.create(this.input);return this.rawDeflate.op=e,r=this.rawDeflate.compress(),e=r.length,r=new Uint8Array(r.buffer),r.length<=e+4&&(this.output=new Uint8Array(r.length+4),this.output.set(r),r=this.output),r=r.subarray(0,e+4),r[e++]=o>>24&255,r[e++]=o>>16&255,r[e++]=o>>8&255,r[e++]=o&255,r}},j=class{constructor(t,r={}){this.ip=0,this.input=t,this.ip=r.index??0,this.verify=r.verify??!1;var e=t[this.ip++],i=t[this.ip++];if((e&15)!=C)throw new Error("unsupported compression method");if(((e<<8)+i)%31!==0)throw new Error("invalid fcheck flag:"+((e<<8)+i)%31);if(i&32)throw new Error("fdict flag is not supported");this.rawinflate=new Y(t,{index:this.ip,bufferSize:r.bufferSize,bufferType:r.bufferType,resize:r.resize})}decompress(){var t=this.input,r;if(r=this.rawinflate.decompress(),this.ip=this.rawinflate.ip,this.verify){var e=(t[this.ip++]<<24|t[this.ip++]<<16|t[this.ip++]<<8|t[this.ip++])>>>0;if(e!==z.create(r))throw new Error("invalid adler-32 checksum")}return r}},_={Deflate:K,Inflate:j};window.Zlib=_})();
