"use strict";(()=>{function D(t){for(var r=new Uint8Array(t.length),e=0;e<r.length;e++)r[e]=t[e].charCodeAt(0)&255;return r}var z={create(t){return typeof t=="string"&&(t=D(t)),this.update(1,t)},update(t,r){for(var e=t&65535,i=t>>16&65535,s=r.length,a=0;s>0;){var n=s>this.OptimizationParameter?this.OptimizationParameter:s;s-=n;do e+=r[a++],i+=e;while(--n);e%=65521,i%=65521}return(i<<16|e)>>>0},OptimizationParameter:1024},S=8,q=32768,W=32768,H=32768,Y=32768,d=32768,T=class y{constructor(r,e=0){if(this.bitindex=0,this.buffer=r instanceof Uint8Array?r:new Uint8Array(Y),this.index=e,this.buffer.length*2<=this.index)throw new Error("invalid index");this.buffer.length<=this.index&&this.expandBuffer()}expandBuffer(){var r=this.buffer,e=new Uint8Array(r.length<<1);return e.set(r),this.buffer=e,e}rev32(r){return y.ReverseTable[r&255]<<24|y.ReverseTable[r>>>8&255]<<16|y.ReverseTable[r>>>16&255]<<8|y.ReverseTable[r>>>24&255]}writeBits(r,e,i=!1){var s=this.buffer,a=this.index,n=this.bitindex,h=s[a],f;if(i&&e>1&&(r=e>8?this.rev32(r)>>32-e:y.ReverseTable[r]>>8-e),e+n<8)h=h<<e|r,n+=e;else for(f=0;f<e;++f)h=h<<1|r>>e-f-1&1,++n===8&&(n=0,s[a++]=y.ReverseTable[h],h=0,a===s.length&&(s=this.expandBuffer()));s[a]=h,this.buffer=s,this.bitindex=n,this.index=a}finish(){var r=this.buffer,e=this.index,i;return this.bitindex>0&&(r[e]<<=8-this.bitindex,r[e]=y.ReverseTable[r[e]],e++),i=r.subarray(0,e),i}static init(){this.ReverseTable=new Uint8Array(256).map((r,e)=>{var i=e,s=7;for(e>>>=1;e;e>>>=1)i<<=1,i|=e&1,--s;return i<<s&255})}};T.init();var V=class{constructor(t){this.buffer=new Uint16Array(t*2),this.length=0}getParent(t){return((t-2)/4|0)*2}getChild(t){return 2*t+2}push(t,r){var e,i,s=this.buffer,a;for(e=this.length,s[this.length++]=r,s[this.length++]=t;e>0&&(i=this.getParent(e),s[e]>s[i]);)a=s[e],s[e]=s[i],s[i]=a,a=s[e+1],s[e+1]=s[i+1],s[i+1]=a,e=i;return this.length}pop(){var t,r,e=this.buffer,i,s,a;for(r=e[0],t=e[1],this.length-=2,e[0]=e[this.length],e[1]=e[this.length+1],a=0;s=this.getChild(a),!(s>=this.length);){if(s+2<this.length&&e[s+2]>e[s]&&(s+=2),e[s]>e[a])i=e[a],e[a]=e[s],e[s]=i,i=e[a+1],e[a+1]=e[s+1],e[s+1]=i;else break;a=s}return{index:t,value:r,length:this.length}}};function B(t){var r=t.length,e,i,s,a,n,h,f=0,o=Number.POSITIVE_INFINITY;for(a=0;a<r;++a)t[a]>f&&(f=t[a]),t[a]<o&&(o=t[a]);var b=1<<f,v=new Uint32Array(b);for(e=1,i=0,s=2;e<=f;){for(a=0;a<r;++a)if(t[a]===e){var u=0,c=i;for(n=0;n<e;++n)u=u<<1|c&1,c>>=1;for(h=e<<16|a,n=u;n<b;n+=s)v[n]=h;++i}++e,i<<=1,s<<=1}return[v,f,o]}var F=258,L=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),M=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258]),U=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0]),Z=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577]),m=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),P=function(){var t=new Uint8Array(288).map((r,e)=>e<=143?8:e<=255?9:e<=279?7:8);return B(t)}(),R=function(){var t=new Uint8Array(30).map(r=>5);return B(t)}(),X=class{constructor(t,r={}){this.buffer=null,this.block=[],this.blocks=[],this.bufferSize=H,this.totalpos=0,this.ip=0,this.op=0,this.bitsbuf=0,this.bitsbuflen=0,this.bfinal=!1,this.bufferType=1,this.resize=!1,this.currentLitlenTable=null,this.input=t instanceof Uint8Array?t:new Uint8Array(t),this.ip=r.index??0,this.bufferSize=r.bufferSize??H,this.bufferType=r.bufferType??1,this.resize=r.resize??!1,this.bufferType==0?(this.op=d,this.output=new Uint8Array(d+this.bufferSize+F)):(this.op=0,this.output=new Uint8Array(this.bufferSize))}decompress(){for(;!this.bfinal;)this.parseBlock();switch(this.bufferType){case 0:return this.concatBufferBlock();case 1:return this.concatBufferDynamic();default:throw new Error("invalid inflate mode")}}parseBlock(){var t=this.readBits(3);switch(t&1&&(this.bfinal=!0),t>>>=1,t){case 0:this.parseUncompressedBlock();break;case 1:this.parseFixedHuffmanBlock();break;case 2:this.parseDynamicHuffmanBlock();break;default:throw new Error("unknown BTYPE: "+t)}}readBits(t){var r=this.bitsbuf,e=this.bitsbuflen,i=this.input,s=this.ip,a=i.length,n;if(s+(t-e+7>>3)>=a)throw new Error("input buffer is broken");for(;e<t;)r|=i[s++]<<e,e+=8;return n=r&(1<<t)-1,r>>>=t,e-=t,this.bitsbuf=r,this.bitsbuflen=e,this.ip=s,n}readCodeByTable(t){for(var r=this.bitsbuf,e=this.bitsbuflen,i=this.input,s=this.ip,a=i.length,n=t[0],h=t[1];e<h&&!(s>=a);)r|=i[s++]<<e,e+=8;var f=n[r&(1<<h)-1],o=f>>>16;if(o>e)throw new Error("invalid code length: "+o);return this.bitsbuf=r>>o,this.bitsbuflen=e-o,this.ip=s,f&65535}parseUncompressedBlock(){var t=this.input,r=this.ip,e=this.output,i=this.op,s=t.length,a=e.length;if(this.bitsbuf=0,this.bitsbuflen=0,r+1>=s)throw new Error("invalid uncompressed block header: LEN");var n=t[r++]|t[r++]<<8;if(r+1>=s)throw new Error("invalid uncompressed block header: NLEN");var h=t[r++]|t[r++]<<8;if(n===~h)throw new Error("invalid uncompressed block header: length verify");if(r+n>t.length)throw new Error("input buffer is broken");switch(this.bufferType){case 0:for(;i+n>e.length;){var f=a-i;n-=f,e.set(t.subarray(r,r+f),i),i+=f,r+=f,this.op=i,e=this.expandBufferBlock(),i=this.op}break;case 1:for(;i+n>e.length;)e=this.expandBufferAdaptive(0,2);break;default:throw new Error("invalid inflate mode")}e.set(t.subarray(r,r+n),i),i+=n,r+=n,this.ip=r,this.op=i,this.output=e}parseFixedHuffmanBlock(){switch(this.bufferType){case 1:this.decodeHuffmanAdaptive(P,R);break;case 0:this.decodeHuffmanBlock(P,R);break;default:throw new Error("invalid inflate mode")}}parseDynamicHuffmanBlock(){for(var t=this.readBits(5)+257,r=this.readBits(5)+1,e=this.readBits(4)+4,i=new Uint8Array(L.length),s=0;s<e;++s)i[L[s]]=this.readBits(3);for(var a=B(i),n=new Uint8Array(t+r),h=0,s=0;s<t+r;){var f=this.readCodeByTable(a);switch(f){case 16:for(var o=3+this.readBits(2);o--;)n[s++]=h;break;case 17:for(var o=3+this.readBits(3);o--;)n[s++]=0;h=0;break;case 18:for(var o=11+this.readBits(7);o--;)n[s++]=0;h=0;break;default:n[s++]=f,h=f;break}}var b=B(n.subarray(0,t)),v=B(n.subarray(t));switch(this.bufferType){case 1:this.decodeHuffmanAdaptive(b,v);break;case 0:this.decodeHuffmanBlock(b,v);break;default:throw new Error("invalid inflate mode")}}decodeHuffmanBlock(t,r){var e=this.output,i=this.op;this.currentLitlenTable=t;for(var s=e.length-F,a;(a=this.readCodeByTable(t))!==256;){if(a<256){i>=s&&(this.op=i,e=this.expandBufferBlock(),i=this.op),e[i++]=a;continue}var n=a-257,h=M[n];U[n]>0&&(h+=this.readBits(U[n])),a=this.readCodeByTable(r);var f=Z[a];for(m[a]>0&&(f+=this.readBits(m[a])),i>=s&&(this.op=i,e=this.expandBufferBlock(),i=this.op);h--;)e[i]=e[i++-f]}for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=i}decodeHuffmanAdaptive(t,r){var e=this.output,i=this.op;this.currentLitlenTable=t;for(var s=e.length,a;(a=this.readCodeByTable(t))!==256;){if(a<256){i>=s&&(e=this.expandBufferAdaptive(),s=e.length),e[i++]=a;continue}var n=a-257,h=M[n];U[n]>0&&(h+=this.readBits(U[n])),a=this.readCodeByTable(r);var f=Z[a];for(m[a]>0&&(f+=this.readBits(m[a])),i+h>s&&(e=this.expandBufferAdaptive(),s=e.length);h--;)e[i]=e[i++-f]}for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=i}expandBufferBlock(){var t=new Uint8Array(this.op-d),r=this.op-d,e=this.output;return t.set(e.subarray(d,t.length)),this.blocks.push(t),this.totalpos+=t.length,e.set(e.subarray(r,r+d)),this.op=d,e}expandBufferAdaptive(t=0,r){var e=Math.floor(this.input.length/this.ip+1),i,s=this.input,a=this.output;if(e=(r??e)+t,e<2){var n=(s.length-this.ip)/this.currentLitlenTable[2],h=Math.floor(n/2*258);i=h<a.length?a.length+h:a.length<<1}else i=a.length*e;var f=new Uint8Array(i);return f.set(a),this.output=f,this.output}concatBufferBlock(){var t=0,r=this.totalpos+(this.op-d),e=this.output,i=this.blocks,s=new Uint8Array(r),a,n;if(i.length===0)return this.output.subarray(d,this.op);for(var h=0;h<i.length;++h){var f=i[h];s.set(f,t),t+=f.length}for(var h=d;h<this.op;++h)s[t++]=e[h];return this.blocks=[],this.buffer=s,this.buffer}concatBufferDynamic(){var t=this.op,r;return this.resize?(r=new Uint8Array(t),r.set(this.output.subarray(0,t))):r=this.output.subarray(0,t),this.buffer=r,this.buffer}},g=3,N=258,G=32768,J=16,Q=286,$=function(){var t=[],r;for(r=0;r<288;r++)switch(!0){case r<=143:t.push([r+48,8]);break;case r<=255:t.push([r-144+400,9]);break;case r<=279:t.push([r-256+0,7]);break;case r<=287:t.push([r-280+192,8]);break;default:throw"invalid literal: "+r}return t}(),_=class I{constructor(r,e){this.length=r,this.backwardDistance=e}static{this.LengthCodeTable=function(){var r=[],e,i;for(e=3;e<=258;e++)i=s(e),r[e]=i[2]<<24|i[1]<<16|i[0];function s(a){switch(!0){case a===3:return[257,a-3,0];case a===4:return[258,a-4,0];case a===5:return[259,a-5,0];case a===6:return[260,a-6,0];case a===7:return[261,a-7,0];case a===8:return[262,a-8,0];case a===9:return[263,a-9,0];case a===10:return[264,a-10,0];case a<=12:return[265,a-11,1];case a<=14:return[266,a-13,1];case a<=16:return[267,a-15,1];case a<=18:return[268,a-17,1];case a<=22:return[269,a-19,2];case a<=26:return[270,a-23,2];case a<=30:return[271,a-27,2];case a<=34:return[272,a-31,2];case a<=42:return[273,a-35,3];case a<=50:return[274,a-43,3];case a<=58:return[275,a-51,3];case a<=66:return[276,a-59,3];case a<=82:return[277,a-67,4];case a<=98:return[278,a-83,4];case a<=114:return[279,a-99,4];case a<=130:return[280,a-115,4];case a<=162:return[281,a-131,5];case a<=194:return[282,a-163,5];case a<=226:return[283,a-195,5];case a<=257:return[284,a-227,5];case a===258:return[285,a-258,0];default:throw"invalid length: "+a}}return new Uint32Array(r)}()}getDistanceCode(r){var e;switch(!0){case r===1:e=[0,r-1,0];break;case r===2:e=[1,r-2,0];break;case r===3:e=[2,r-3,0];break;case r===4:e=[3,r-4,0];break;case r<=6:e=[4,r-5,1];break;case r<=8:e=[5,r-7,1];break;case r<=12:e=[6,r-9,2];break;case r<=16:e=[7,r-13,2];break;case r<=24:e=[8,r-17,3];break;case r<=32:e=[9,r-25,3];break;case r<=48:e=[10,r-33,4];break;case r<=64:e=[11,r-49,4];break;case r<=96:e=[12,r-65,5];break;case r<=128:e=[13,r-97,5];break;case r<=192:e=[14,r-129,6];break;case r<=256:e=[15,r-193,6];break;case r<=384:e=[16,r-257,7];break;case r<=512:e=[17,r-385,7];break;case r<=768:e=[18,r-513,8];break;case r<=1024:e=[19,r-769,8];break;case r<=1536:e=[20,r-1025,9];break;case r<=2048:e=[21,r-1537,9];break;case r<=3072:e=[22,r-2049,10];break;case r<=4096:e=[23,r-3073,10];break;case r<=6144:e=[24,r-4097,11];break;case r<=8192:e=[25,r-6145,11];break;case r<=12288:e=[26,r-8193,12];break;case r<=16384:e=[27,r-12289,12];break;case r<=24576:e=[28,r-16385,13];break;case r<=32768:e=[29,r-24577,13];break;default:throw"invalid distance"}return e}toLZ77Array(){var r=I.LengthCodeTable[this.length],e=this.getDistanceCode(this.backwardDistance);return[r&65535,r>>>16&255,r>>>24,e[0],e[1],e[2]]}},K=class{constructor(t,r={}){this.freqsLitLen=null,this.freqsDist=null,this.op=0,this.input=t instanceof Uint8Array?t:new Uint8Array(t),this.lazy=r.lazy??0,this.compressionType=r.compressionType??2,r.outputBuffer?this.output=r.outputBuffer instanceof Uint8Array?r.outputBuffer:new Uint8Array(r.outputBuffer):this.output=new Uint8Array(W),this.op=r.outputIndex??0}compress(){var t=this.input,r=t.length;switch(this.compressionType){case 0:for(var e=0,r=t.length;e<r;){var i=t.subarray(e,e+65535);e+=i.length,this.makeNocompressBlock(i,e===r)}break;case 1:this.output=this.makeFixedHuffmanBlock(t,!0),this.op=this.output.length;break;case 2:this.output=this.makeDynamicHuffmanBlock(t,!0),this.op=this.output.length;break;default:throw"invalid compression type"}return this.output}makeNocompressBlock(t,r){var e=this.output,i=this.op;for(e=new Uint8Array(this.output.buffer);e.length<=i+t.length+5;)e=new Uint8Array(e.length<<1);e.set(this.output);var s=0;e[i++]=(r?1:0)|s<<1;var a=t.length,n=~a+65536&65535;return e[i++]=a&255,e[i++]=a>>>8&255,e[i++]=n&255,e[i++]=n>>>8&255,e.set(t,i),i+=t.length,e=e.subarray(0,i),this.op=i,this.output=e,e}makeFixedHuffmanBlock(t,r){var e=new T(new Uint8Array(this.output.buffer),this.op);e.writeBits(r?1:0,1,!0),e.writeBits(1,2,!0);var i=this.LZ77(t);return this.fixedHuffman(i,e),e.finish()}makeDynamicHuffmanBlock(t,r){var e=new T(new Uint8Array(this.output.buffer),this.op);e.writeBits(r?1:0,1,!0),e.writeBits(2,2,!0);var i=this.LZ77(t),s=this.getLengths(this.freqsLitLen,15),a=this.getCodesFromLengths(s),n=this.getLengths(this.freqsDist,7),h=this.getCodesFromLengths(n),f,o;for(f=286;f>257&&s[f-1]===0;f--);for(o=30;o>1&&n[o-1]===0;o--);var b=this.getTreeSymbols(f,s,o,n),v=this.getLengths(b.freqs,7),u=new Array(19);for(p=0;p<19;p++)u[p]=v[L[p]];for(var c=19;c>4&&u[c-1]===0;c--);var l=this.getCodesFromLengths(v);for(e.writeBits(f-257,5,!0),e.writeBits(o-1,5,!0),e.writeBits(c-4,4,!0),p=0;p<c;p++)e.writeBits(u[p],3,!0);for(var p=0;p<b.codes.length;p++){var k=b.codes[p],w;if(e.writeBits(l[k],v[k],!0),k>=16){switch(p++,k){case 16:w=2;break;case 17:w=3;break;case 18:w=7;break;default:throw"invalid code: "+k}e.writeBits(b.codes[p],w,!0)}}return this.dynamicHuffman(i,[a,s],[h,n],e),e.finish()}dynamicHuffman(t,r,e,i){for(var s=r[0],a=r[1],n=e[0],h=e[1],f=0;f<t.length;++f){var o=t[f],b;if(i.writeBits(s[o],a[o],!0),o>256)i.writeBits(t[++f],t[++f],!0),b=t[++f],i.writeBits(n[b],h[b],!0),i.writeBits(t[++f],t[++f],!0);else if(o===256)break}return i}fixedHuffman(t,r){for(var e=0;e<t.length;e++){var i=t[e];if(T.prototype.writeBits.apply(r,$[i]),i>256)r.writeBits(t[++e],t[++e],!0),r.writeBits(t[++e],5),r.writeBits(t[++e],t[++e],!0);else if(i===256)break}return r}LZ77(t){var r={},e=null,i=new Uint16Array(t.length*2),s=0,a=0,n=new Uint32Array(30),h=this.lazy,f,o=new Uint32Array(286);o[256]=1;function b(A,te){for(var x=A.toLZ77Array(),C=0;C<x.length;++C)i[s++]=x[C];o[x[0]]++,n[x[3]]++,a=A.length+te-1,e=null}var v,u=t.length;for(v=0;v<u;++v){for(var c=0,l=0;l<g&&v+l!==u;++l)c=c<<8|t[v+l];r[c]===void 0&&(r[c]=[]);var p=r[c];if(a-- >0){p.push(v);continue}for(;p.length>0&&v-p[0]>G;)p.shift();if(v+g>=u){e&&b(e,-1);for(var l=0,k=u-v;l<k;++l)f=t[v+l],i[s++]=f,++o[f];break}if(p.length>0){var w=this.searchLongestMatch(t,v,p);e?e.length<w.length?(f=t[v-1],i[s++]=f,++o[f],b(w,0)):b(e,-1):w.length<h?e=w:b(w,0)}else e?b(e,-1):(f=t[v],i[s++]=f,++o[f]);p.push(v)}return i[s++]=256,o[256]++,this.freqsLitLen=o,this.freqsDist=n,i.subarray(0,s)}searchLongestMatch(t,r,e){var i,s=0,a=t.length;e:for(var n=0;n<e.length;n++){var h=e[e.length-n-1],f=g;if(s>g){for(var o=s;o>g;o--)if(t[h+o-1]!==t[r+o-1])continue e;f=s}for(;f<N&&r+f<a&&t[h+f]===t[r+f];)++f;if(f>s&&(i=h,s=f),f===N)break}return new _(s,r-i)}getTreeSymbols(t,r,e,i){var s=new Uint32Array(t+e),a,n,h=t+e,f=new Uint32Array(316),o=new Uint8Array(19);for(n=0,a=0;a<t;a++)s[n++]=r[a];for(a=0;a<e;a++)s[n++]=i[a];var b=0;for(a=0,h=s.length;a<h;a+=n){for(n=1;a+n<h&&s[a+n]===s[a];++n);var v=n;if(s[a]===0)if(v<3)for(;v-- >0;)f[b++]=0,o[0]++;else for(;v>0;){var u=v<138?v:138;u>v-3&&u<v&&(u=v-3),u<=10?(f[b++]=17,f[b++]=u-3,o[17]++):(f[b++]=18,f[b++]=u-11,o[18]++),v-=u}else if(f[b++]=s[a],o[s[a]]++,v--,v<3)for(;v-- >0;)f[b++]=s[a],o[s[a]]++;else for(;v>0;){var u=v<6?v:6;u>v-3&&u<v&&(u=v-3),f[b++]=16,f[b++]=u-3,o[16]++,v-=u}}return{codes:f.subarray(0,b),freqs:o}}getLengths(t,r){for(var e=t.length,i=new V(2*Q),s=new Uint8Array(e),a=0;a<e;++a)t[a]>0&&i.push(a,t[a]);var n=new Array(i.length/2),h=new Uint32Array(i.length/2);if(n.length===1)return s[i.pop().index]=1,s;for(var f=i.length/2,a=0;a<f;++a)n[a]=i.pop(),h[a]=n[a].value;var o=this.reversePackageMerge(h,h.length,r);for(a=0;a<n.length;++a)s[n[a].index]=o[a];return s}reversePackageMerge(t,r,e){var i=new Uint16Array(e),s=new Uint8Array(e),a=new Uint8Array(r),n=new Array(e),h=new Array(e),f=new Array(e);function o(w){var A=h[w][f[w]];A===r?(o(w+1),o(w+1)):--a[A],++f[w]}i[e-1]=r;for(var b=(1<<e)-r,v=1<<e-1,u=0;u<e;++u)b<v?s[u]=0:(s[u]=1,b-=v),b<<=1,i[e-2-u]=(i[e-1-u]/2|0)+r;i[0]=s[0],n[0]=new Array(i[0]),h[0]=new Array(i[0]);for(var u=1;u<e;++u)i[u]>2*i[u-1]+s[u]&&(i[u]=2*i[u-1]+s[u]),n[u]=new Array(i[u]),h[u]=new Array(i[u]);for(var c=0;c<r;++c)a[c]=e;for(var l=0;l<i[e-1];++l)n[e-1][l]=t[l],h[e-1][l]=l;for(var c=0;c<e;++c)f[c]=0;s[e-1]===1&&(--a[0],++f[e-1]);for(var u=e-2;u>=0;--u){for(var c=0,p=0,k=f[u+1],l=0;l<i[u];l++)p=n[u+1][k]+n[u+1][k+1],p>t[c]?(n[u][l]=p,h[u][l]=r,k+=2):(n[u][l]=t[c],h[u][l]=c,++c);f[u]=0,s[u]===1&&o(u)}return a}getCodesFromLengths(t){for(var r=new Uint16Array(t.length),e=[],i=[],s=0,a,n,h,f=0;f<t.length;f++)e[t[f]]=(e[t[f]]|0)+1;for(var f=1;f<=J;f++)i[f]=s,s+=e[f]|0,s<<=1;for(var f=0;f<t.length;f++)for(s=i[t[f]],i[t[f]]+=1,r[f]=0,n=0,h=t[f];n<h;n++)r[f]=r[f]<<1|s&1,s>>>=1;return r}},E=class{constructor(t,r=0){this.buffer=t,this.p=r,this.length=t.length}get pointer(){return this.p}set pointer(t){this.p=t}get offset(){return this.p}set offset(t){this.p=t}readByte(){return this.buffer[this.p++]}writeByte(t){this.buffer[this.p++]=t}readShort(){return this.buffer[this.p++]|this.buffer[this.p++]<<8}writeShort(t){this.buffer[this.p++]=t&255,this.buffer[this.p++]=t>>>8&255}readUint(){return(this.buffer[this.p++]|this.buffer[this.p++]<<8|this.buffer[this.p++]<<16|this.buffer[this.p++]<<24)>>>0}writeUint(t){this.buffer[this.p++]=t&255,this.buffer[this.p++]=t>>>8&255,this.buffer[this.p++]=t>>>16&255,this.buffer[this.p++]=t>>>24&255}readUintBE(){return(this.buffer[this.p++]<<24|this.buffer[this.p++]<<16|this.buffer[this.p++]<<8|this.buffer[this.p++])>>>0}writeUintBE(t){this.buffer[this.p++]=t>>>24&255,this.buffer[this.p++]=t>>>16&255,this.buffer[this.p++]=t>>>8&255,this.buffer[this.p++]=t&255}readArray(t){return this.buffer.subarray(this.p,this.p+=t)}writeArray(t){this.buffer.set(t,this.p),this.p+=t.length}readString(t){return new TextDecoder().decode(this.readArray(t))}writeString(t){this.writeArray(new TextEncoder().encode(t))}readAscii(t){var r="",e=this.readArray(t);return e.forEach(i=>{r+=String.fromCharCode(i)}),r}writeAscii(t){this.writeArray(D(t))}},j=class O{constructor(r,e={}){this.input=r,this.output=new Uint8Array(q);var i={};this.compressionType=e.compressionType??2,Object.assign(i,e),i.outputBuffer=this.output,this.rawDeflate=new K(this.input,i)}static compress(r,e){return new O(r,e).compress()}compress(){var r=this.output,e=new E(r,0),i=7,s=i<<4|S;e.writeByte(s);var a=0,n=this.compressionType,h=n<<6|a<<5,f=31-((s<<8)+h)%31;h|=f,e.writeByte(h);var o=z.create(this.input);this.rawDeflate.op=e.p,r=this.rawDeflate.compress();var b=r.length;return r=new Uint8Array(r.buffer),r.length<=b+4&&(this.output=new Uint8Array(r.length+4),this.output.set(r),r=this.output),r=r.subarray(0,b+4),e=new E(r,b),e.writeUintBE(o),r}},ee=class{constructor(t,r={}){this.ip=0,this.input=t,this.ip=r.index??0,this.verify=r.verify??!1;var e=t[this.ip++],i=t[this.ip++];if((e&15)!=S)throw new Error("unsupported compression method");if(((e<<8)+i)%31!==0)throw new Error("invalid fcheck flag:"+((e<<8)+i)%31);if(i&32)throw new Error("fdict flag is not supported");this.rawinflate=new X(t,{index:this.ip,bufferSize:r.bufferSize,bufferType:r.bufferType,resize:r.resize})}decompress(){var t=this.input,r;r=this.rawinflate.decompress(),this.ip=this.rawinflate.ip;var e=new E(r,this.ip);if(this.verify){var i=e.readUintBE();if(i!==z.create(r))throw new Error("invalid adler-32 checksum")}return r}},re={Deflate:j,Inflate:ee};window.Zlib=re})();
