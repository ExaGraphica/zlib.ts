"use strict";(()=>{var k={create(e,r,t){return this.update(e,0,r,t)},update(e,r,t=0,a){var s=k.Table,i=a??e.length;r^=4294967295;for(var h=i&7;h--;++t)r=r>>>8^s[(r^e[t])&255];for(var h=i>>3;h--;t+=8)r=r>>>8^s[(r^e[t])&255],r=r>>>8^s[(r^e[t+1])&255],r=r>>>8^s[(r^e[t+2])&255],r=r>>>8^s[(r^e[t+3])&255],r=r>>>8^s[(r^e[t+4])&255],r=r>>>8^s[(r^e[t+5])&255],r=r>>>8^s[(r^e[t+6])&255],r=r>>>8^s[(r^e[t+7])&255];return(r^4294967295)>>>0},single(e,r){return k.Table[(e^r)&255]^r>>>8},Table:new Uint32Array(256),init(){for(var e=0;e<256;++e){for(var r=e,t=0;t<8;++t)r=r&1?3988292384^r>>>1:r>>>1;this.Table[e]=r>>>0}}};k.init();var q=32768,I=32768,M=32768,O=32768,w=32768,C=class y{constructor(r,t=0){if(this.bitindex=0,this.buffer=r instanceof Uint8Array?r:new Uint8Array(O),this.index=t,this.buffer.length*2<=this.index)throw new Error("invalid index");this.buffer.length<=this.index&&this.expandBuffer()}expandBuffer(){var r=this.buffer,t=new Uint8Array(r.length<<1);return t.set(r),this.buffer=t,t}rev32(r){return y.ReverseTable[r&255]<<24|y.ReverseTable[r>>>8&255]<<16|y.ReverseTable[r>>>16&255]<<8|y.ReverseTable[r>>>24&255]}writeBits(r,t,a=!1){var s=this.buffer,i=this.index,h=this.bitindex,n=s[i],f;if(a&&t>1&&(r=t>8?this.rev32(r)>>32-t:y.ReverseTable[r]>>8-t),t+h<8)n=n<<t|r,h+=t;else for(f=0;f<t;++f)n=n<<1|r>>t-f-1&1,++h===8&&(h=0,s[i++]=y.ReverseTable[n],n=0,i===s.length&&(s=this.expandBuffer()));s[i]=n,this.buffer=s,this.bitindex=h,this.index=i}finish(){var r=this.buffer,t=this.index,a;return this.bitindex>0&&(r[t]<<=8-this.bitindex,r[t]=y.ReverseTable[r[t]],t++),a=r.subarray(0,t),a}static init(){this.ReverseTable=new Uint8Array(256).map((r,t)=>{var a=t,s=7;for(t>>>=1;t;t>>>=1)a<<=1,a|=t&1,--s;return a<<s&255})}};C.init();var P=class{constructor(e){this.length=0,this.nodes=0,this.buffer=new Uint16Array(e*2)}getParent(e){return e-2>>2<<1}getChild(e){return 2*e+2}push(e,r){var t,a,s=this.buffer,i;for(t=this.length,s[this.length++]=r,s[this.length++]=e,this.nodes++;t>0&&(a=this.getParent(t),s[t]>s[a]);)i=s[t],s[t]=s[a],s[a]=i,i=s[t+1],s[t+1]=s[a+1],s[a+1]=i,t=a;return this.length}pop(){var e=this.buffer,r,t=e[0],a=e[1];this.nodes--,this.length-=2,e[0]=e[this.length],e[1]=e[this.length+1];for(var s=0;;){var i=this.getChild(s);if(i>=this.length)break;if(i+2<this.length&&e[i+2]>e[i]&&(i+=2),e[i]>e[s])r=e[s],e[s]=e[i],e[i]=r,r=e[s+1],e[s+1]=e[i+1],e[i+1]=r;else break;s=i}return{index:a,value:t,length:this.length}}};function g(e){var r=e.length,t,a,s,i,h,n,f=0,o=Number.POSITIVE_INFINITY;for(i=0;i<r;++i)e[i]>f&&(f=e[i]),e[i]<o&&(o=e[i]);var l=1<<f,v=new Uint32Array(l);for(t=1,a=0,s=2;t<=f;){for(i=0;i<r;++i)if(e[i]===t){var u=0,b=a;for(h=0;h<t;++h)u=u<<1|b&1,b>>=1;for(n=t<<16|i,h=u;h<l;h+=s)v[h]=n;++a}++t,a<<=1,s<<=1}return[v,f,o]}var z=258,L=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),E=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258]),T=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0]),D=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577]),x=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),H=function(){var e=new Uint8Array(288).map((r,t)=>t<=143?8:t<=255?9:t<=279?7:8);return g(e)}(),N=function(){var e=new Uint8Array(30).map(r=>5);return g(e)}(),Z=class{constructor(e,r={}){this.buffer=null,this.block=[],this.blocks=[],this.bufferSize=M,this.totalpos=0,this.ip=0,this.op=0,this.bitsbuf=0,this.bitsbuflen=0,this.bfinal=!1,this.bufferType=1,this.resize=!1,this.currentLitlenTable=null,this.input=e instanceof Uint8Array?e:new Uint8Array(e),this.ip=r.index??0,this.bufferSize=r.bufferSize??M,this.bufferType=r.bufferType??1,this.resize=r.resize??!1,this.bufferType==0?(this.op=w,this.output=new Uint8Array(w+this.bufferSize+z)):(this.op=0,this.output=new Uint8Array(this.bufferSize))}decompress(){for(;!this.bfinal;)this.parseBlock();switch(this.bufferType){case 0:return this.concatBufferBlock();case 1:return this.concatBufferDynamic();default:throw new Error("invalid inflate mode")}}parseBlock(){var e=this.readBits(3);switch(e&1&&(this.bfinal=!0),e>>>=1,e){case 0:this.parseUncompressedBlock();break;case 1:this.parseFixedHuffmanBlock();break;case 2:this.parseDynamicHuffmanBlock();break;default:throw new Error("unknown BTYPE: "+e)}}readBits(e){var r=this.bitsbuf,t=this.bitsbuflen,a=this.input,s=this.ip,i=a.length,h;if(s+(e-t+7>>3)>=i)throw new Error("input buffer is broken");for(;t<e;)r|=a[s++]<<t,t+=8;return h=r&(1<<e)-1,r>>>=e,t-=e,this.bitsbuf=r,this.bitsbuflen=t,this.ip=s,h}readCodeByTable(e){for(var r=this.bitsbuf,t=this.bitsbuflen,a=this.input,s=this.ip,i=a.length,h=e[0],n=e[1];t<n&&!(s>=i);)r|=a[s++]<<t,t+=8;var f=h[r&(1<<n)-1],o=f>>>16;if(o>t)throw new Error("invalid code length: "+o);return this.bitsbuf=r>>o,this.bitsbuflen=t-o,this.ip=s,f&65535}parseUncompressedBlock(){var e=this.input,r=this.ip,t=this.output,a=this.op,s=e.length,i=t.length;if(this.bitsbuf=0,this.bitsbuflen=0,r+1>=s)throw new Error("invalid uncompressed block header: LEN");var h=e[r++]|e[r++]<<8;if(r+1>=s)throw new Error("invalid uncompressed block header: NLEN");var n=e[r++]|e[r++]<<8;if(h===~n)throw new Error("invalid uncompressed block header: length verify");if(r+h>e.length)throw new Error("input buffer is broken");switch(this.bufferType){case 0:for(;a+h>t.length;){var f=i-a;h-=f,t.set(e.subarray(r,r+f),a),a+=f,r+=f,this.op=a,t=this.expandBufferBlock(),a=this.op}break;case 1:for(;a+h>t.length;)t=this.expandBufferAdaptive(0,2);break;default:throw new Error("invalid inflate mode")}t.set(e.subarray(r,r+h),a),a+=h,r+=h,this.ip=r,this.op=a,this.output=t}parseFixedHuffmanBlock(){switch(this.bufferType){case 1:this.decodeHuffmanAdaptive(H,N);break;case 0:this.decodeHuffmanBlock(H,N);break;default:throw new Error("invalid inflate mode")}}parseDynamicHuffmanBlock(){for(var e=this.readBits(5)+257,r=this.readBits(5)+1,t=this.readBits(4)+4,a=new Uint8Array(L.length),s=0;s<t;++s)a[L[s]]=this.readBits(3);for(var i=g(a),h=new Uint8Array(e+r),n=0,s=0;s<e+r;){var f=this.readCodeByTable(i);switch(f){case 16:for(var o=3+this.readBits(2);o--;)h[s++]=n;break;case 17:for(var o=3+this.readBits(3);o--;)h[s++]=0;n=0;break;case 18:for(var o=11+this.readBits(7);o--;)h[s++]=0;n=0;break;default:h[s++]=f,n=f;break}}var l=g(h.subarray(0,e)),v=g(h.subarray(e));switch(this.bufferType){case 1:this.decodeHuffmanAdaptive(l,v);break;case 0:this.decodeHuffmanBlock(l,v);break;default:throw new Error("invalid inflate mode")}}decodeHuffmanBlock(e,r){var t=this.output,a=this.op;this.currentLitlenTable=e;for(var s=t.length-z,i;(i=this.readCodeByTable(e))!==256;){if(i<256){a>=s&&(this.op=a,t=this.expandBufferBlock(),a=this.op),t[a++]=i;continue}var h=i-257,n=E[h];T[h]>0&&(n+=this.readBits(T[h])),i=this.readCodeByTable(r);var f=D[i];for(x[i]>0&&(f+=this.readBits(x[i])),a>=s&&(this.op=a,t=this.expandBufferBlock(),a=this.op);n--;)t[a]=t[a++-f]}for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=a}decodeHuffmanAdaptive(e,r){var t=this.output,a=this.op;this.currentLitlenTable=e;for(var s=t.length,i;(i=this.readCodeByTable(e))!==256;){if(i<256){a>=s&&(t=this.expandBufferAdaptive(),s=t.length),t[a++]=i;continue}var h=i-257,n=E[h];T[h]>0&&(n+=this.readBits(T[h])),i=this.readCodeByTable(r);var f=D[i];for(x[i]>0&&(f+=this.readBits(x[i])),a+n>s&&(t=this.expandBufferAdaptive(),s=t.length);n--;)t[a]=t[a++-f]}for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=a}expandBufferBlock(){var e=new Uint8Array(this.op-w),r=this.op-w,t=this.output;return e.set(t.subarray(w,e.length)),this.blocks.push(e),this.totalpos+=e.length,t.set(t.subarray(r,r+w)),this.op=w,t}expandBufferAdaptive(e=0,r){var t=Math.floor(this.input.length/this.ip+1),a,s=this.input,i=this.output;if(t=(r??t)+e,t<2){var h=(s.length-this.ip)/this.currentLitlenTable[2],n=Math.floor(h*129);a=n<i.length?i.length+n:i.length<<1}else a=i.length*t;var f=new Uint8Array(a);return f.set(i),this.output=f,this.output}concatBufferBlock(){var e=0,r=this.totalpos+(this.op-w),t=this.output,a=this.blocks,s=new Uint8Array(r),i,h;if(a.length===0)return this.output.subarray(w,this.op);for(var n=0;n<a.length;++n){var f=a[n];s.set(f,e),e+=f.length}for(var n=w;n<this.op;++n)s[e++]=t[n];return this.blocks=[],this.buffer=s,this.buffer}concatBufferDynamic(){var e=this.op,r;return this.resize?(r=new Uint8Array(e),r.set(this.output.subarray(0,e))):r=this.output.subarray(0,e),this.buffer=r,this.buffer}},m=3,F=258,G=32768,W={getLengthCode(e){switch(!0){case e===3:return[257,e-3,0];case e===4:return[258,e-4,0];case e===5:return[259,e-5,0];case e===6:return[260,e-6,0];case e===7:return[261,e-7,0];case e===8:return[262,e-8,0];case e===9:return[263,e-9,0];case e===10:return[264,e-10,0];case e<=12:return[265,e-11,1];case e<=14:return[266,e-13,1];case e<=16:return[267,e-15,1];case e<=18:return[268,e-17,1];case e<=22:return[269,e-19,2];case e<=26:return[270,e-23,2];case e<=30:return[271,e-27,2];case e<=34:return[272,e-31,2];case e<=42:return[273,e-35,3];case e<=50:return[274,e-43,3];case e<=58:return[275,e-51,3];case e<=66:return[276,e-59,3];case e<=82:return[277,e-67,4];case e<=98:return[278,e-83,4];case e<=114:return[279,e-99,4];case e<=130:return[280,e-115,4];case e<=162:return[281,e-131,5];case e<=194:return[282,e-163,5];case e<=226:return[283,e-195,5];case e<=257:return[284,e-227,5];case e===258:return[285,e-258,0];default:throw"invalid length: "+e}},getDistanceCode(e){switch(!0){case e===1:return[0,e-1,0];case e===2:return[1,e-2,0];case e===3:return[2,e-3,0];case e===4:return[3,e-4,0];case e<=6:return[4,e-5,1];case e<=8:return[5,e-7,1];case e<=12:return[6,e-9,2];case e<=16:return[7,e-13,2];case e<=24:return[8,e-17,3];case e<=32:return[9,e-25,3];case e<=48:return[10,e-33,4];case e<=64:return[11,e-49,4];case e<=96:return[12,e-65,5];case e<=128:return[13,e-97,5];case e<=192:return[14,e-129,6];case e<=256:return[15,e-193,6];case e<=384:return[16,e-257,7];case e<=512:return[17,e-385,7];case e<=768:return[18,e-513,8];case e<=1024:return[19,e-769,8];case e<=1536:return[20,e-1025,9];case e<=2048:return[21,e-1537,9];case e<=3072:return[22,e-2049,10];case e<=4096:return[23,e-3073,10];case e<=6144:return[24,e-4097,11];case e<=8192:return[25,e-6145,11];case e<=12288:return[26,e-8193,12];case e<=16384:return[27,e-12289,12];case e<=24576:return[28,e-16385,13];case e<=32768:return[29,e-24577,13];default:throw"invalid distance"}},create(e){return this.getLengthCode(e.len).concat(this.getDistanceCode(e.backwardDistance))}},R=class{constructor(e,r){this.table={},this.pos=0,this.prevMatch=null,this.skipLength=0,this.lazy=0,this.input=e,this.output=new Uint16Array(e.length*2),this.lazy=r,this.freqsLitLen=new Uint32Array(286),this.freqsLitLen[256]=1,this.freqsDist=new Uint32Array(30)}writeNum(e){this.output[this.pos++]=e}writeMatch(e,r){for(var t=W.create(e),a=0;a<t.length;a++)this.writeNum(t[a]);this.freqsLitLen[t[0]]++,this.freqsDist[t[3]]++,this.skipLength=e.len+r-1,this.prevMatch=null}maxMatchTest(e,r,t){for(var a=t;a>m;a--)if(this.input[e+a-1]!==this.input[r+a-1])return!1;return!0}searchLongestMatch(e,r){for(var t=r[r.length],a=0,s=this.input.length,i=0;i<r.length;i++){var h=r[r.length-i-1],n=m;if(a>m){var f=a;if(!this.maxMatchTest(h,e,a))continue;n=a}for(;n<F&&e+n<s&&this.input[h+n]==this.input[e+n];)n++;if(n>a&&(t=h,a=n),n==F)break}return{len:a,backwardDistance:e-t}}encode(){var e={},r,t=this.input.length;for(r=0;r<t;++r){for(var a=0,s=0;s<m&&r+s!==t;s++)a=a<<8|this.input[r+s];e[a]===void 0&&(e[a]=[]);var i=e[a];if(this.skipLength-- >0){i.push(r);continue}for(;i.length>0&&r-i[0]>G;)i.shift();if(r+m>=t){this.prevMatch&&this.writeMatch(this.prevMatch,-1);for(var s=r;s<t;s++){var h=this.input[s];this.writeNum(h),this.freqsLitLen[h]++}break}if(i.length>0){var n=this.searchLongestMatch(r,i);this.prevMatch?this.prevMatch.len<n.len?(h=this.input[r-1],this.writeNum(h),this.freqsLitLen[h]++,this.writeMatch(n,0)):this.writeMatch(this.prevMatch,-1):n.len<this.lazy?this.prevMatch=n:this.writeMatch(n,0)}else if(this.prevMatch)this.writeMatch(this.prevMatch,-1);else{var h=this.input[r];this.writeNum(h),this.freqsLitLen[h]++}i.push(r)}return this.writeNum(256),this.freqsLitLen[256]++,this.output=this.output.subarray(0,this.pos),this.output}};function Y(e){for(var r=new Uint8Array(e.length),t=0;t<r.length;t++)r[t]=e[t].charCodeAt(0)&255;return r}var A=class{constructor(e,r=0){this.buffer=e,this.p=r,this.length=e.length}get pointer(){return this.p}set pointer(e){this.p=e}get offset(){return this.p}set offset(e){this.p=e}truncateBuffer(e){return this.buffer=this.buffer.subarray(0,e),this.length=e,this.buffer}expandLength(e){const r=new Uint8Array(e);return r.set(this.buffer),this.buffer=r,this.length=e,this.buffer}setLength(e){e>this.length?this.expandLength(e):this.truncateBuffer(e)}restoreBuffer(){this.buffer=new Uint8Array(this.buffer.buffer)}readByte(){return this.buffer[this.p++]}writeByte(e){this.buffer[this.p++]=e}readShort(){return this.buffer[this.p++]|this.buffer[this.p++]<<8}writeShort(e){this.buffer[this.p++]=e&255,this.buffer[this.p++]=e>>>8&255}readUint(){return(this.buffer[this.p++]|this.buffer[this.p++]<<8|this.buffer[this.p++]<<16|this.buffer[this.p++]<<24)>>>0}writeUint(e){this.buffer[this.p++]=e&255,this.buffer[this.p++]=e>>>8&255,this.buffer[this.p++]=e>>>16&255,this.buffer[this.p++]=e>>>24&255}readUintBE(){return(this.buffer[this.p++]<<24|this.buffer[this.p++]<<16|this.buffer[this.p++]<<8|this.buffer[this.p++])>>>0}writeUintBE(e){this.buffer[this.p++]=e>>>24&255,this.buffer[this.p++]=e>>>16&255,this.buffer[this.p++]=e>>>8&255,this.buffer[this.p++]=e&255}readArray(e){return this.buffer.subarray(this.p,this.p+=e)}writeArray(e){this.buffer.set(e,this.p),this.p+=e.length}readString(e){return new TextDecoder().decode(this.readArray(e))}writeString(e){this.writeArray(new TextEncoder().encode(e))}readAscii(e){var r="",t=this.readArray(e);return t.forEach(a=>{r+=String.fromCharCode(a)}),r}writeAscii(e){this.writeArray(Y(e))}},V=16,X=286,J=function(){var e=[],r;for(r=0;r<288;r++)switch(!0){case r<=143:e.push([r+48,8]);break;case r<=255:e.push([r-144+400,9]);break;case r<=279:e.push([r-256+0,7]);break;case r<=287:e.push([r-280+192,8]);break;default:throw"invalid literal: "+r}return e}(),Q=class{constructor(e,r={}){this.op=0,this.input=e instanceof Uint8Array?e:new Uint8Array(e),this.lazy=r.lazy??0,this.compressionType=r.compressionType??2,r.outputBuffer?this.output=r.outputBuffer instanceof Uint8Array?r.outputBuffer:new Uint8Array(r.outputBuffer):this.output=new Uint8Array(I),this.op=r.outputIndex??0}compress(){var e=this.input,r=e.length;switch(this.compressionType){case 0:for(var t=0,r=e.length;t<r;){var a=e.subarray(t,t+65535);t+=a.length,this.makeNocompressBlock(a,t===r)}break;case 1:this.output=this.makeFixedHuffmanBlock(e,!0),this.op=this.output.length;break;case 2:this.output=this.makeDynamicHuffmanBlock(e,!0),this.op=this.output.length;break;default:throw"invalid compression type"}return this.output}makeNocompressBlock(e,r){var t=this.output;t=new Uint8Array(this.output.buffer);for(var a=new A(t,this.op),i=t.length;i<=this.op+e.length+5;)i=i<<1;a.expandLength(i);var s=0;a.writeByte((r?1:0)|s<<1);var i=e.length,h=i^65535;return a.writeShort(i),a.writeShort(h),a.writeArray(e),a.truncateBuffer(a.p),this.output=a.buffer,this.op=a.p,t}makeFixedHuffmanBlock(e,r){var t=new C(new Uint8Array(this.output.buffer),this.op);t.writeBits(r?1:0,1,!0),t.writeBits(1,2,!0);var a=new R(e,this.lazy);return a.encode(),this.fixedHuffman(a,t),t.finish()}makeDynamicHuffmanBlock(e,r){var t=new C(new Uint8Array(this.output.buffer),this.op);t.writeBits(r?1:0,1,!0),t.writeBits(2,2,!0);var a=new R(e,this.lazy),s=a.encode(),i=this.getLengths(a.freqsLitLen,15),h=this.getCodesFromLengths(i),n=this.getLengths(a.freqsDist,7),f=this.getCodesFromLengths(n),o,l;for(o=286;o>257&&i[o-1]===0;o--);for(l=30;l>1&&n[l-1]===0;l--);var v=this.getTreeSymbols(o,i,l,n),u=this.getLengths(v.freqs,7),b=new Array(19);for(p=0;p<19;p++)b[p]=u[L[p]];for(var d=19;d>4&&b[d-1]===0;d--);var U=this.getCodesFromLengths(u);for(t.writeBits(o-257,5,!0),t.writeBits(l-1,5,!0),t.writeBits(d-4,4,!0),p=0;p<d;p++)t.writeBits(b[p],3,!0);for(var p=0;p<v.codes.length;p++){var c=v.codes[p],B;if(t.writeBits(U[c],u[c],!0),c>=16){switch(p++,c){case 16:B=2;break;case 17:B=3;break;case 18:B=7;break;default:throw"invalid code: "+c}t.writeBits(v.codes[p],B,!0)}}return this.dynamicHuffman(s,[h,i],[f,n],t),t.finish()}dynamicHuffman(e,r,t,a){for(var s=r[0],i=r[1],h=t[0],n=t[1],f=0;f<e.length;++f){var o=e[f],l;if(a.writeBits(s[o],i[o],!0),o>256)a.writeBits(e[++f],e[++f],!0),l=e[++f],a.writeBits(h[l],n[l],!0),a.writeBits(e[++f],e[++f],!0);else if(o===256)break}return a}fixedHuffman(e,r){for(var t=e.output,a=0;a<t.length;a++){var s=t[a],i=J[s];if(r.writeBits(i[0],i[1]),s>256)r.writeBits(t[++a],t[++a],!0),r.writeBits(t[++a],5),r.writeBits(t[++a],t[++a],!0);else if(s===256)break}return r}getTreeSymbols(e,r,t,a){var s=new Uint32Array(e+t),i,h,n=e+t,f=new Uint32Array(316),o=new Uint8Array(19);for(h=0,i=0;i<e;i++)s[h++]=r[i];for(i=0;i<t;i++)s[h++]=a[i];var l=0;for(i=0,n=s.length;i<n;i+=h){for(h=1;i+h<n&&s[i+h]===s[i];++h);var v=h;if(s[i]===0)if(v<3)for(;v-- >0;)f[l++]=0,o[0]++;else for(;v>0;){var u=v<138?v:138;u>v-3&&u<v&&(u=v-3),u<=10?(f[l++]=17,f[l++]=u-3,o[17]++):(f[l++]=18,f[l++]=u-11,o[18]++),v-=u}else if(f[l++]=s[i],o[s[i]]++,v--,v<3)for(;v-- >0;)f[l++]=s[i],o[s[i]]++;else for(;v>0;){var u=v<6?v:6;u>v-3&&u<v&&(u=v-3),f[l++]=16,f[l++]=u-3,o[16]++,v-=u}}return{codes:f.subarray(0,l),freqs:o}}getLengths(e,r){for(var t=e.length,a=new P(2*X),s=new Uint8Array(t),i=0;i<t;++i)e[i]>0&&a.push(i,e[i]);var h=new Array(a.nodes),n=new Uint32Array(a.nodes);if(h.length===1)return s[a.pop().index]=1,s;for(var f=a.nodes,i=0;i<f;++i)h[i]=a.pop(),n[i]=h[i].value;var o=this.reversePackageMerge(n,n.length,r);for(i=0;i<h.length;++i)s[h[i].index]=o[i];return s}reversePackageMerge(e,r,t){var a=new Uint16Array(t),s=new Array(t),i=new Uint8Array(r).fill(t),h=new Array(t),n=new Array(t),f=new Array(t).fill(0);function o(c){var B=n[c][f[c]];B===r?(o(c+1),o(c+1)):i[B]--,f[c]++}a[t-1]=r;for(var l=(1<<t)-r,v=1<<t-1,u=0;u<t;++u)l<v?s[u]=!1:(s[u]=!0,l-=v),l<<=1,a[t-2-u]=(a[t-1-u]>>>1)+r;a[0]=Number(s[0]),h[0]=new Array(a[0]),n[0]=new Array(a[0]);for(var u=1;u<t;++u)a[u]>2*a[u-1]+Number(s[u])&&(a[u]=2*a[u-1]+Number(s[u])),h[u]=new Array(a[u]),n[u]=new Array(a[u]);for(var b=0;b<a[t-1];++b)h[t-1][b]=e[b],n[t-1][b]=b;s[t-1]&&(i[0]--,f[t-1]++);for(var u=t-2;u>=0;u--){for(var d=0,U=f[u+1],b=0;b<a[u];b++){var p=h[u+1][U]+h[u+1][U+1];p>e[d]?(h[u][b]=p,n[u][b]=r,U+=2):(h[u][b]=e[d],n[u][b]=d,d++)}f[u]=0,s[u]&&o(u)}return i}getCodesFromLengths(e){for(var r=new Uint16Array(e.length),t=[],a=[],s=0,i,h,n=0;n<e.length;n++)t[e[n]]=(t[e[n]]??0)+1;for(var n=1;n<=V;n++)a[n]=s,s+=t[n]??0,s<<=1;for(var n=0;n<e.length;n++)for(s=a[e[n]],a[e[n]]+=1,r[n]=0,i=0;i<e[n];i++)r[n]=r[n]<<1|s&1,s>>>=1;return r}},S=new Uint8Array([31,139]),$=class{constructor(e,r={}){this.ip=0,this.output=null,this.op=0,this.crc32=null,this.filename="",this.comment="",this.input=e,this.flags={},r.filename&&(this.filename=r.filename,this.flags.fname=!0),r.comment&&(this.comment=r.comment??"",this.flags.fcomment=!0),r.hcrc&&(this.flags.fhcrc=!0),this.deflateOptions=r.deflateOptions??{}}compress(){var e=new Uint8Array(q),u=new A(e,0),r=this.input,t=this.ip,a=this.filename,s=this.comment;u.writeArray(S),u.writeByte(8);var i=0;this.flags.fname&&(i|=8),this.flags.fcomment&&(i|=16),this.flags.fhcrc&&(i|=2),u.writeByte(i);var h=Math.floor(Date.now()/1e3);if(u.writeUint(h),u.writeByte(0),u.writeByte(3),this.flags.fname){for(var n=0;n<a.length;++n){var f=a.charCodeAt(n);f>255?u.writeShort(f):u.writeByte(f)}u.writeByte(0)}if(this.flags.fcomment){for(var n=0;n<s.length;++n){var f=s.charCodeAt(n);f>255?u.writeShort(f):u.writeByte(f)}u.writeByte(0)}if(this.flags.fhcrc){var o=k.create(e,0,u.p)&65535;u.writeShort(o)}this.deflateOptions.outputBuffer=e,this.deflateOptions.outputIndex=u.p;var l=new Q(r,this.deflateOptions);e=l.compress();var v=l.op;v+8>e.length&&(this.output=new Uint8Array(v+8),this.output.set(new Uint8Array(e)),e=this.output);var u=new A(e,v);this.crc32=k.create(r),u.writeUint(this.crc32);var b=r.length;return u.writeUint(b),this.ip=t,u.p<e.length&&(this.output=e=e.subarray(0,v)),e}},_=class{constructor(e){this.ip=0,this.members=[],this.decompressed=!1,this.crc32=null,this.input=e}getMembers(){return this.decompressed||this.decompress(),this.members.slice()}decompress(){for(var e=this.input.length;this.ip<e;)this.decodeMember();return this.decompressed=!0,this.concatMember()}decodeMember(){var e={},r=this.input,t=new A(r,this.ip);if(e.id1=t.readByte(),e.id2=t.readByte(),e.id1!==S[0]||e.id2!==S[1])throw new Error("invalid file signature:"+e.id1+","+e.id2);if(e.cm=t.readByte(),e.cm!=8)throw new Error("unknown compression method: "+e.cm);var a=t.readByte();e.flg=a;var s=t.readUint();if(e.mtime=new Date(s*1e3),e.xfl=t.readByte(),e.os=t.readByte(),a&4&&(e.xlen=t.readShort(),t.p=this.decodeSubField(t.p,e.xlen)),a&8){for(var i="",h=1;h!=0&&(h=t.readByte(),h!=0);)i+=String.fromCharCode(h);e.name=i}if(a&16){for(var i="",h=1;h!=0&&(h=t.readByte(),h!=0);)i+=String.fromCharCode(h);e.comment=i}if((a&2)>0&&(e.crc16=k.create(r,0,t.p)&65535,e.crc16!==t.readShort()))throw new Error("invalid header crc16");var v=(r[r.length-4]|r[r.length-3]<<8|r[r.length-2]<<16|r[r.length-1]<<24)>>>0,n=void 0;r.length-t.p-4-4<v*512&&(n=v);var f=new Z(r,{index:t.p,bufferSize:n}),o=f.decompress();e.data=o,t=new A(r,f.ip);var l=t.readUint();if(this.crc32=k.create(o),this.crc32!==l)throw new Error("invalid CRC-32 checksum: 0x"+k.create(o).toString(16)+" / 0x"+l.toString(16));var v=t.readUint();if((o.length&4294967295)!==v)throw new Error("invalid input size: "+(o.length&4294967295)+" / "+v);this.members.push(e),this.ip=t.p}decodeSubField(e,r){return e+r}concatMember(){for(var e=this.members,r=0,t=0;t<e.length;++t)r+=e[t].data.length;for(var a=0,s=new Uint8Array(r),t=0;t<e.length;++t)s.set(e[t].data,a),a+=e[t].data.length;return s}},K={GZip:$,GUnzip:_};window.Zlib=K})();
