"use strict";(()=>{var y={create(t,r,e){return this.update(t,0,r,e)},update(t,r,e=0,i){var s=y.Table,a=i??t.length;r^=4294967295;for(var f=a&7;f--;++e)r=r>>>8^s[(r^t[e])&255];for(var f=a>>3;f--;e+=8)r=r>>>8^s[(r^t[e])&255],r=r>>>8^s[(r^t[e+1])&255],r=r>>>8^s[(r^t[e+2])&255],r=r>>>8^s[(r^t[e+3])&255],r=r>>>8^s[(r^t[e+4])&255],r=r>>>8^s[(r^t[e+5])&255],r=r>>>8^s[(r^t[e+6])&255],r=r>>>8^s[(r^t[e+7])&255];return r^4294967295},single(t,r){return y.Table[(t^r)&255]^t>>>8},Table:new Uint32Array(256),init(){for(var t=0;t<256;++t){for(var r=t,e=0;e<8;++e)r=r&1?3988292384^r>>>1:r>>>1;this.Table[t]=r>>>0}}};y.init();var P=32768,O=32768,D=32768,q=32768,k=32768,A=class B{constructor(r,e=0){if(this.bitindex=0,this.buffer=r instanceof Uint8Array?r:new Uint8Array(q),this.index=e,this.buffer.length*2<=this.index)throw new Error("invalid index");this.buffer.length<=this.index&&this.expandBuffer()}expandBuffer(){var r=this.buffer,e=new Uint8Array(r.length<<1);return e.set(r),this.buffer=e,e}rev32(r){return B.ReverseTable[r&255]<<24|B.ReverseTable[r>>>8&255]<<16|B.ReverseTable[r>>>16&255]<<8|B.ReverseTable[r>>>24&255]}writeBits(r,e,i=!1){var s=this.buffer,a=this.index,f=this.bitindex,u=s[a],n;if(i&&e>1&&(r=e>8?this.rev32(r)>>32-e:B.ReverseTable[r]>>8-e),e+f<8)u=u<<e|r,f+=e;else for(n=0;n<e;++n)u=u<<1|r>>e-n-1&1,++f===8&&(f=0,s[a++]=B.ReverseTable[u],u=0,a===s.length&&(s=this.expandBuffer()));s[a]=u,this.buffer=s,this.bitindex=f,this.index=a}finish(){var r=this.buffer,e=this.index,i;return this.bitindex>0&&(r[e]<<=8-this.bitindex,r[e]=B.ReverseTable[r[e]],e++),i=r.subarray(0,e),i}static init(){this.ReverseTable=new Uint8Array(256).map((r,e)=>{var i=e,s=7;for(e>>>=1;e;e>>>=1)i<<=1,i|=e&1,--s;return i<<s&255})}};A.init();var G=class{constructor(t){this.buffer=new Uint16Array(t*2),this.length=0}getParent(t){return((t-2)/4|0)*2}getChild(t){return 2*t+2}push(t,r){var e,i,s=this.buffer,a;for(e=this.length,s[this.length++]=r,s[this.length++]=t;e>0&&(i=this.getParent(e),s[e]>s[i]);)a=s[e],s[e]=s[i],s[i]=a,a=s[e+1],s[e+1]=s[i+1],s[i+1]=a,e=i;return this.length}pop(){var t,r,e=this.buffer,i,s,a;for(r=e[0],t=e[1],this.length-=2,e[0]=e[this.length],e[1]=e[this.length+1],a=0;s=this.getChild(a),!(s>=this.length);){if(s+2<this.length&&e[s+2]>e[s]&&(s+=2),e[s]>e[a])i=e[a],e[a]=e[s],e[s]=i,i=e[a+1],e[a+1]=e[s+1],e[s+1]=i;else break;a=s}return{index:t,value:r,length:this.length}}};function g(t){var r=t.length,e,i,s,a,f,u,n=0,o=Number.POSITIVE_INFINITY;for(a=0;a<r;++a)t[a]>n&&(n=t[a]),t[a]<o&&(o=t[a]);var l=1<<n,v=new Uint32Array(l);for(e=1,i=0,s=2;e<=n;){for(a=0;a<r;++a)if(t[a]===e){var h=0,b=i;for(f=0;f<e;++f)h=h<<1|b&1,b>>=1;for(u=e<<16|a,f=h;f<l;f+=s)v[f]=u;++i}++e,i<<=1,s<<=1}return[v,n,o]}var H=258,L=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),M=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258]),T=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0]),F=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577]),x=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Z=function(){var t=new Uint8Array(288).map((r,e)=>e<=143?8:e<=255?9:e<=279?7:8);return g(t)}(),R=function(){var t=new Uint8Array(30).map(r=>5);return g(t)}(),W=class{constructor(t,r={}){this.buffer=null,this.block=[],this.blocks=[],this.bufferSize=D,this.totalpos=0,this.ip=0,this.op=0,this.bitsbuf=0,this.bitsbuflen=0,this.bfinal=!1,this.bufferType=1,this.resize=!1,this.currentLitlenTable=null,this.input=t instanceof Uint8Array?t:new Uint8Array(t),this.ip=r.index??0,this.bufferSize=r.bufferSize??D,this.bufferType=r.bufferType??1,this.resize=r.resize??!1,this.bufferType==0?(this.op=k,this.output=new Uint8Array(k+this.bufferSize+H)):(this.op=0,this.output=new Uint8Array(this.bufferSize))}decompress(){for(;!this.bfinal;)this.parseBlock();switch(this.bufferType){case 0:return this.concatBufferBlock();case 1:return this.concatBufferDynamic();default:throw new Error("invalid inflate mode")}}parseBlock(){var t=this.readBits(3);switch(t&1&&(this.bfinal=!0),t>>>=1,t){case 0:this.parseUncompressedBlock();break;case 1:this.parseFixedHuffmanBlock();break;case 2:this.parseDynamicHuffmanBlock();break;default:throw new Error("unknown BTYPE: "+t)}}readBits(t){var r=this.bitsbuf,e=this.bitsbuflen,i=this.input,s=this.ip,a=i.length,f;if(s+(t-e+7>>3)>=a)throw new Error("input buffer is broken");for(;e<t;)r|=i[s++]<<e,e+=8;return f=r&(1<<t)-1,r>>>=t,e-=t,this.bitsbuf=r,this.bitsbuflen=e,this.ip=s,f}readCodeByTable(t){for(var r=this.bitsbuf,e=this.bitsbuflen,i=this.input,s=this.ip,a=i.length,f=t[0],u=t[1];e<u&&!(s>=a);)r|=i[s++]<<e,e+=8;var n=f[r&(1<<u)-1],o=n>>>16;if(o>e)throw new Error("invalid code length: "+o);return this.bitsbuf=r>>o,this.bitsbuflen=e-o,this.ip=s,n&65535}parseUncompressedBlock(){var t=this.input,r=this.ip,e=this.output,i=this.op,s=t.length,a=e.length;if(this.bitsbuf=0,this.bitsbuflen=0,r+1>=s)throw new Error("invalid uncompressed block header: LEN");var f=t[r++]|t[r++]<<8;if(r+1>=s)throw new Error("invalid uncompressed block header: NLEN");var u=t[r++]|t[r++]<<8;if(f===~u)throw new Error("invalid uncompressed block header: length verify");if(r+f>t.length)throw new Error("input buffer is broken");switch(this.bufferType){case 0:for(;i+f>e.length;){var n=a-i;f-=n,e.set(t.subarray(r,r+n),i),i+=n,r+=n,this.op=i,e=this.expandBufferBlock(),i=this.op}break;case 1:for(;i+f>e.length;)e=this.expandBufferAdaptive(0,2);break;default:throw new Error("invalid inflate mode")}e.set(t.subarray(r,r+f),i),i+=f,r+=f,this.ip=r,this.op=i,this.output=e}parseFixedHuffmanBlock(){switch(this.bufferType){case 1:this.decodeHuffmanAdaptive(Z,R);break;case 0:this.decodeHuffmanBlock(Z,R);break;default:throw new Error("invalid inflate mode")}}parseDynamicHuffmanBlock(){for(var t=this.readBits(5)+257,r=this.readBits(5)+1,e=this.readBits(4)+4,i=new Uint8Array(L.length),s=0;s<e;++s)i[L[s]]=this.readBits(3);for(var a=g(i),f=new Uint8Array(t+r),u=0,s=0;s<t+r;){var n=this.readCodeByTable(a);switch(n){case 16:for(var o=3+this.readBits(2);o--;)f[s++]=u;break;case 17:for(var o=3+this.readBits(3);o--;)f[s++]=0;u=0;break;case 18:for(var o=11+this.readBits(7);o--;)f[s++]=0;u=0;break;default:f[s++]=n,u=n;break}}var l=g(f.subarray(0,t)),v=g(f.subarray(t));switch(this.bufferType){case 1:this.decodeHuffmanAdaptive(l,v);break;case 0:this.decodeHuffmanBlock(l,v);break;default:throw new Error("invalid inflate mode")}}decodeHuffmanBlock(t,r){var e=this.output,i=this.op;this.currentLitlenTable=t;for(var s=e.length-H,a;(a=this.readCodeByTable(t))!==256;){if(a<256){i>=s&&(this.op=i,e=this.expandBufferBlock(),i=this.op),e[i++]=a;continue}var f=a-257,u=M[f];T[f]>0&&(u+=this.readBits(T[f])),a=this.readCodeByTable(r);var n=F[a];for(x[a]>0&&(n+=this.readBits(x[a])),i>=s&&(this.op=i,e=this.expandBufferBlock(),i=this.op);u--;)e[i]=e[i++-n]}for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=i}decodeHuffmanAdaptive(t,r){var e=this.output,i=this.op;this.currentLitlenTable=t;for(var s=e.length,a;(a=this.readCodeByTable(t))!==256;){if(a<256){i>=s&&(e=this.expandBufferAdaptive(),s=e.length),e[i++]=a;continue}var f=a-257,u=M[f];T[f]>0&&(u+=this.readBits(T[f])),a=this.readCodeByTable(r);var n=F[a];for(x[a]>0&&(n+=this.readBits(x[a])),i+u>s&&(e=this.expandBufferAdaptive(),s=e.length);u--;)e[i]=e[i++-n]}for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=i}expandBufferBlock(){var t=new Uint8Array(this.op-k),r=this.op-k,e=this.output;return t.set(e.subarray(k,t.length)),this.blocks.push(t),this.totalpos+=t.length,e.set(e.subarray(r,r+k)),this.op=k,e}expandBufferAdaptive(t=0,r){var e=Math.floor(this.input.length/this.ip+1),i,s=this.input,a=this.output;if(e=(r??e)+t,e<2){var f=(s.length-this.ip)/this.currentLitlenTable[2],u=Math.floor(f/2*258);i=u<a.length?a.length+u:a.length<<1}else i=a.length*e;var n=new Uint8Array(i);return n.set(a),this.output=n,this.output}concatBufferBlock(){var t=0,r=this.totalpos+(this.op-k),e=this.output,i=this.blocks,s=new Uint8Array(r),a,f;if(i.length===0)return this.output.subarray(k,this.op);for(var u=0;u<i.length;++u){var n=i[u];s.set(n,t),t+=n.length}for(var u=k;u<this.op;++u)s[t++]=e[u];return this.blocks=[],this.buffer=s,this.buffer}concatBufferDynamic(){var t=this.op,r;return this.resize?(r=new Uint8Array(t),r.set(this.output.subarray(0,t))):r=this.output.subarray(0,t),this.buffer=r,this.buffer}},m=3,N=258,Y=32768,V=16,X=286,J=function(){var t=[],r;for(r=0;r<288;r++)switch(!0){case r<=143:t.push([r+48,8]);break;case r<=255:t.push([r-144+400,9]);break;case r<=279:t.push([r-256+0,7]);break;case r<=287:t.push([r-280+192,8]);break;default:throw"invalid literal: "+r}return t}(),Q=class I{constructor(r,e){this.length=r,this.backwardDistance=e}static{this.LengthCodeTable=function(){var r=[],e,i;for(e=3;e<=258;e++)i=s(e),r[e]=i[2]<<24|i[1]<<16|i[0];function s(a){switch(!0){case a===3:return[257,a-3,0];case a===4:return[258,a-4,0];case a===5:return[259,a-5,0];case a===6:return[260,a-6,0];case a===7:return[261,a-7,0];case a===8:return[262,a-8,0];case a===9:return[263,a-9,0];case a===10:return[264,a-10,0];case a<=12:return[265,a-11,1];case a<=14:return[266,a-13,1];case a<=16:return[267,a-15,1];case a<=18:return[268,a-17,1];case a<=22:return[269,a-19,2];case a<=26:return[270,a-23,2];case a<=30:return[271,a-27,2];case a<=34:return[272,a-31,2];case a<=42:return[273,a-35,3];case a<=50:return[274,a-43,3];case a<=58:return[275,a-51,3];case a<=66:return[276,a-59,3];case a<=82:return[277,a-67,4];case a<=98:return[278,a-83,4];case a<=114:return[279,a-99,4];case a<=130:return[280,a-115,4];case a<=162:return[281,a-131,5];case a<=194:return[282,a-163,5];case a<=226:return[283,a-195,5];case a<=257:return[284,a-227,5];case a===258:return[285,a-258,0];default:throw"invalid length: "+a}}return new Uint32Array(r)}()}getDistanceCode(r){var e;switch(!0){case r===1:e=[0,r-1,0];break;case r===2:e=[1,r-2,0];break;case r===3:e=[2,r-3,0];break;case r===4:e=[3,r-4,0];break;case r<=6:e=[4,r-5,1];break;case r<=8:e=[5,r-7,1];break;case r<=12:e=[6,r-9,2];break;case r<=16:e=[7,r-13,2];break;case r<=24:e=[8,r-17,3];break;case r<=32:e=[9,r-25,3];break;case r<=48:e=[10,r-33,4];break;case r<=64:e=[11,r-49,4];break;case r<=96:e=[12,r-65,5];break;case r<=128:e=[13,r-97,5];break;case r<=192:e=[14,r-129,6];break;case r<=256:e=[15,r-193,6];break;case r<=384:e=[16,r-257,7];break;case r<=512:e=[17,r-385,7];break;case r<=768:e=[18,r-513,8];break;case r<=1024:e=[19,r-769,8];break;case r<=1536:e=[20,r-1025,9];break;case r<=2048:e=[21,r-1537,9];break;case r<=3072:e=[22,r-2049,10];break;case r<=4096:e=[23,r-3073,10];break;case r<=6144:e=[24,r-4097,11];break;case r<=8192:e=[25,r-6145,11];break;case r<=12288:e=[26,r-8193,12];break;case r<=16384:e=[27,r-12289,12];break;case r<=24576:e=[28,r-16385,13];break;case r<=32768:e=[29,r-24577,13];break;default:throw"invalid distance"}return e}toLZ77Array(){var r=I.LengthCodeTable[this.length],e=this.getDistanceCode(this.backwardDistance);return[r&65535,r>>>16&255,r>>>24,e[0],e[1],e[2]]}},$=class{constructor(t,r={}){this.freqsLitLen=null,this.freqsDist=null,this.op=0,this.input=t instanceof Uint8Array?t:new Uint8Array(t),this.lazy=r.lazy??0,this.compressionType=r.compressionType??2,r.outputBuffer?this.output=r.outputBuffer instanceof Uint8Array?r.outputBuffer:new Uint8Array(r.outputBuffer):this.output=new Uint8Array(O),this.op=r.outputIndex??0}compress(){var t=this.input,r=t.length;switch(this.compressionType){case 0:for(var e=0,r=t.length;e<r;){var i=t.subarray(e,e+65535);e+=i.length,this.makeNocompressBlock(i,e===r)}break;case 1:this.output=this.makeFixedHuffmanBlock(t,!0),this.op=this.output.length;break;case 2:this.output=this.makeDynamicHuffmanBlock(t,!0),this.op=this.output.length;break;default:throw"invalid compression type"}return this.output}makeNocompressBlock(t,r){var e=this.output,i=this.op;for(e=new Uint8Array(this.output.buffer);e.length<=i+t.length+5;)e=new Uint8Array(e.length<<1);e.set(this.output);var s=0;e[i++]=(r?1:0)|s<<1;var a=t.length,f=~a+65536&65535;return e[i++]=a&255,e[i++]=a>>>8&255,e[i++]=f&255,e[i++]=f>>>8&255,e.set(t,i),i+=t.length,e=e.subarray(0,i),this.op=i,this.output=e,e}makeFixedHuffmanBlock(t,r){var e=new A(new Uint8Array(this.output.buffer),this.op);e.writeBits(r?1:0,1,!0),e.writeBits(1,2,!0);var i=this.LZ77(t);return this.fixedHuffman(i,e),e.finish()}makeDynamicHuffmanBlock(t,r){var e=new A(new Uint8Array(this.output.buffer),this.op);e.writeBits(r?1:0,1,!0),e.writeBits(2,2,!0);var i=this.LZ77(t),s=this.getLengths(this.freqsLitLen,15),a=this.getCodesFromLengths(s),f=this.getLengths(this.freqsDist,7),u=this.getCodesFromLengths(f),n,o;for(n=286;n>257&&s[n-1]===0;n--);for(o=30;o>1&&f[o-1]===0;o--);var l=this.getTreeSymbols(n,s,o,f),v=this.getLengths(l.freqs,7),h=new Array(19);for(c=0;c<19;c++)h[c]=v[L[c]];for(var b=19;b>4&&h[b-1]===0;b--);var p=this.getCodesFromLengths(v);for(e.writeBits(n-257,5,!0),e.writeBits(o-1,5,!0),e.writeBits(b-4,4,!0),c=0;c<b;c++)e.writeBits(h[c],3,!0);for(var c=0;c<l.codes.length;c++){var d=l.codes[c],w;if(e.writeBits(p[d],v[d],!0),d>=16){switch(c++,d){case 16:w=2;break;case 17:w=3;break;case 18:w=7;break;default:throw"invalid code: "+d}e.writeBits(l.codes[c],w,!0)}}return this.dynamicHuffman(i,[a,s],[u,f],e),e.finish()}dynamicHuffman(t,r,e,i){for(var s=r[0],a=r[1],f=e[0],u=e[1],n=0;n<t.length;++n){var o=t[n],l;if(i.writeBits(s[o],a[o],!0),o>256)i.writeBits(t[++n],t[++n],!0),l=t[++n],i.writeBits(f[l],u[l],!0),i.writeBits(t[++n],t[++n],!0);else if(o===256)break}return i}fixedHuffman(t,r){for(var e=0;e<t.length;e++){var i=t[e];if(A.prototype.writeBits.apply(r,J[i]),i>256)r.writeBits(t[++e],t[++e],!0),r.writeBits(t[++e],5),r.writeBits(t[++e],t[++e],!0);else if(i===256)break}return r}LZ77(t){var r={},e=null,i=new Uint16Array(t.length*2),s=0,a=0,f=new Uint32Array(30),u=this.lazy,n,o=new Uint32Array(286);o[256]=1;function l(U,re){for(var S=U.toLZ77Array(),z=0;z<S.length;++z)i[s++]=S[z];o[S[0]]++,f[S[3]]++,a=U.length+re-1,e=null}var v,h=t.length;for(v=0;v<h;++v){for(var b=0,p=0;p<m&&v+p!==h;++p)b=b<<8|t[v+p];r[b]===void 0&&(r[b]=[]);var c=r[b];if(a-- >0){c.push(v);continue}for(;c.length>0&&v-c[0]>Y;)c.shift();if(v+m>=h){e&&l(e,-1);for(var p=0,d=h-v;p<d;++p)n=t[v+p],i[s++]=n,++o[n];break}if(c.length>0){var w=this.searchLongestMatch(t,v,c);e?e.length<w.length?(n=t[v-1],i[s++]=n,++o[n],l(w,0)):l(e,-1):w.length<u?e=w:l(w,0)}else e?l(e,-1):(n=t[v],i[s++]=n,++o[n]);c.push(v)}return i[s++]=256,o[256]++,this.freqsLitLen=o,this.freqsDist=f,i.subarray(0,s)}searchLongestMatch(t,r,e){var i,s=0,a=t.length;e:for(var f=0;f<e.length;f++){var u=e[e.length-f-1],n=m;if(s>m){for(var o=s;o>m;o--)if(t[u+o-1]!==t[r+o-1])continue e;n=s}for(;n<N&&r+n<a&&t[u+n]===t[r+n];)++n;if(n>s&&(i=u,s=n),n===N)break}return new Q(s,r-i)}getTreeSymbols(t,r,e,i){var s=new Uint32Array(t+e),a,f,u=t+e,n=new Uint32Array(316),o=new Uint8Array(19);for(f=0,a=0;a<t;a++)s[f++]=r[a];for(a=0;a<e;a++)s[f++]=i[a];var l=0;for(a=0,u=s.length;a<u;a+=f){for(f=1;a+f<u&&s[a+f]===s[a];++f);var v=f;if(s[a]===0)if(v<3)for(;v-- >0;)n[l++]=0,o[0]++;else for(;v>0;){var h=v<138?v:138;h>v-3&&h<v&&(h=v-3),h<=10?(n[l++]=17,n[l++]=h-3,o[17]++):(n[l++]=18,n[l++]=h-11,o[18]++),v-=h}else if(n[l++]=s[a],o[s[a]]++,v--,v<3)for(;v-- >0;)n[l++]=s[a],o[s[a]]++;else for(;v>0;){var h=v<6?v:6;h>v-3&&h<v&&(h=v-3),n[l++]=16,n[l++]=h-3,o[16]++,v-=h}}return{codes:n.subarray(0,l),freqs:o}}getLengths(t,r){for(var e=t.length,i=new G(2*X),s=new Uint8Array(e),a=0;a<e;++a)t[a]>0&&i.push(a,t[a]);var f=new Array(i.length/2),u=new Uint32Array(i.length/2);if(f.length===1)return s[i.pop().index]=1,s;for(var n=i.length/2,a=0;a<n;++a)f[a]=i.pop(),u[a]=f[a].value;var o=this.reversePackageMerge(u,u.length,r);for(a=0;a<f.length;++a)s[f[a].index]=o[a];return s}reversePackageMerge(t,r,e){var i=new Uint16Array(e),s=new Uint8Array(e),a=new Uint8Array(r),f=new Array(e),u=new Array(e),n=new Array(e);function o(w){var U=u[w][n[w]];U===r?(o(w+1),o(w+1)):--a[U],++n[w]}i[e-1]=r;for(var l=(1<<e)-r,v=1<<e-1,h=0;h<e;++h)l<v?s[h]=0:(s[h]=1,l-=v),l<<=1,i[e-2-h]=(i[e-1-h]/2|0)+r;i[0]=s[0],f[0]=new Array(i[0]),u[0]=new Array(i[0]);for(var h=1;h<e;++h)i[h]>2*i[h-1]+s[h]&&(i[h]=2*i[h-1]+s[h]),f[h]=new Array(i[h]),u[h]=new Array(i[h]);for(var b=0;b<r;++b)a[b]=e;for(var p=0;p<i[e-1];++p)f[e-1][p]=t[p],u[e-1][p]=p;for(var b=0;b<e;++b)n[b]=0;s[e-1]===1&&(--a[0],++n[e-1]);for(var h=e-2;h>=0;--h){for(var b=0,c=0,d=n[h+1],p=0;p<i[h];p++)c=f[h+1][d]+f[h+1][d+1],c>t[b]?(f[h][p]=c,u[h][p]=r,d+=2):(f[h][p]=t[b],u[h][p]=b,++b);n[h]=0,s[h]===1&&o(h)}return a}getCodesFromLengths(t){for(var r=new Uint16Array(t.length),e=[],i=[],s=0,a,f,u,n=0;n<t.length;n++)e[t[n]]=(e[t[n]]|0)+1;for(var n=1;n<=V;n++)i[n]=s,s+=e[n]|0,s<<=1;for(var n=0;n<t.length;n++)for(s=i[t[n]],i[t[n]]+=1,r[n]=0,f=0,u=t[n];f<u;f++)r[n]=r[n]<<1|s&1,s>>>=1;return r}};function _(t){for(var r=new Uint8Array(t.length),e=0;e<r.length;e++)r[e]=t[e].charCodeAt(0)&255;return r}var C=class{constructor(t,r=0){this.buffer=t,this.p=r,this.length=t.length}get pointer(){return this.p}set pointer(t){this.p=t}get offset(){return this.p}set offset(t){this.p=t}readByte(){return this.buffer[this.p++]}writeByte(t){this.buffer[this.p++]=t}readShort(){return this.buffer[this.p++]|this.buffer[this.p++]<<8}writeShort(t){this.buffer[this.p++]=t&255,this.buffer[this.p++]=t>>>8&255}readUint(){return(this.buffer[this.p++]|this.buffer[this.p++]<<8|this.buffer[this.p++]<<16|this.buffer[this.p++]<<24)>>>0}writeUint(t){this.buffer[this.p++]=t&255,this.buffer[this.p++]=t>>>8&255,this.buffer[this.p++]=t>>>16&255,this.buffer[this.p++]=t>>>24&255}readUintBE(){return(this.buffer[this.p++]<<24|this.buffer[this.p++]<<16|this.buffer[this.p++]<<8|this.buffer[this.p++])>>>0}writeUintBE(t){this.buffer[this.p++]=t>>>24&255,this.buffer[this.p++]=t>>>16&255,this.buffer[this.p++]=t>>>8&255,this.buffer[this.p++]=t&255}readArray(t){return this.buffer.subarray(this.p,this.p+=t)}writeArray(t){this.buffer.set(t,this.p),this.p+=t.length}readString(t){return new TextDecoder().decode(this.readArray(t))}writeString(t){this.writeArray(new TextEncoder().encode(t))}readAscii(t){var r="",e=this.readArray(t);return e.forEach(i=>{r+=String.fromCharCode(i)}),r}writeAscii(t){this.writeArray(_(t))}},E=new Uint8Array([31,139]),K=class{constructor(t,r={}){this.ip=0,this.output=null,this.op=0,this.filename="",this.comment="",this.input=t,this.flags={},r.filename&&(this.filename=r.filename,this.flags.fname=!0),r.comment&&(this.comment=r.comment??"",this.flags.fcomment=!0),r.hcrc&&(this.flags.fhcrc=!0),this.deflateOptions=r.deflateOptions??{}}compress(){var t=new Uint8Array(P),h=new C(t,0),r=this.input,e=this.ip,i=this.filename,s=this.comment;h.writeArray(E),h.writeByte(8);var a=0;this.flags.fname&&(a|=8),this.flags.fcomment&&(a|=16),this.flags.fhcrc&&(a|=2),h.writeByte(a);var f=Math.floor(Date.now()/1e3);if(h.writeUint(f),h.writeByte(0),h.writeByte(3),this.flags.fname){for(var u=0;u<i.length;++u){var n=i.charCodeAt(u);n>255?h.writeShort(n):h.writeByte(n)}h.writeByte(0)}if(this.flags.fcomment){for(var u=0;u<s.length;++u){var n=s.charCodeAt(u);n>255?h.writeShort(n):h.writeByte(n)}h.writeByte(0)}if(this.flags.fhcrc){var o=y.create(t,0,h.p)&65535;h.writeShort(o)}this.deflateOptions.outputBuffer=t,this.deflateOptions.outputIndex=h.p;var l=new $(r,this.deflateOptions);t=l.compress();var v=l.op;v+8>t.length&&(this.output=new Uint8Array(v+8),this.output.set(new Uint8Array(t.buffer)),t=this.output);var h=new C(t,v),b=y.create(r);h.writeUint(b);var p=r.length;return h.writeUint(p),this.ip=e,v<t.length&&(this.output=t=t.subarray(0,v)),t}},j=class{constructor(t){this.ip=0,this.member=[],this.decompressed=!1,this.input=t}getMembers(){return this.decompressed||this.decompress(),this.member.slice()}decompress(){for(var t=this.input.length;this.ip<t;)this.decodeMember();return this.decompressed=!0,this.concatMember()}decodeMember(){var t={},r=this.input,e=new C(r,this.ip);if(t.id1=e.readByte(),t.id2=e.readByte(),t.id1!==E[0]||t.id2!==E[2])throw new Error("invalid file signature:"+t.id1+","+t.id2);if(t.cm=e.readByte(),t.cm!=8)throw new Error("unknown compression method: "+t.cm);var i=e.readByte();t.flg=i;var s=e.readUint();if(t.mtime=new Date(s*1e3),t.xfl=e.readByte(),t.os=e.readByte(),(i&4)>0&&(t.xlen=e.readShort(),e.p=this.decodeSubField(e.p,t.xlen)),(i&8)>0){for(var a="",f=1;f!=0&&(f=e.readByte(),f!=0);)a+=String.fromCharCode(f);t.name=a}if((i&16)>0){for(var a="",f=1;f!=0&&(f=e.readByte(),f!=0);)a+=String.fromCharCode(f);t.comment=a}if((i&2)>0&&(t.crc16=y.create(r,0,e.p)&65535,t.crc16!==e.readShort()))throw new Error("invalid header crc16");var h=e.readUint(),u=void 0;r.length-e.p-4-4<h*512&&(u=h);var n=new W(r,{index:e.p,bufferSize:u}),o=n.decompress();t.data=o;var l=n.ip;e=new C(r,l);var v=e.readUint();if(y.create(o)!==v)throw new Error("invalid CRC-32 checksum: 0x"+y.create(o).toString(16)+" / 0x"+v.toString(16));var h=e.readUint();if((o.length&4294967295)!==h)throw new Error("invalid input size: "+(o.length&4294967295)+" / "+h);this.member.push(t),this.ip=l}decodeSubField(t,r){return t+r}concatMember(){for(var t=this.member,r=0,e=0;e<t.length;++e)r+=t[e].data.length;for(var i=0,s=new Uint8Array(r),e=0;e<t.length;++e)s.set(t[e].data,i),i+=t[e].data.length;return s}},ee={GZip:K,GUnzip:j};window.Zlib=ee})();
