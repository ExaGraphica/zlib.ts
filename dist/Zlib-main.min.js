"use strict";(()=>{var ie=!1,m={create(r,e,t){return this.update(r,0,e,t)},update(r,e,t=0,a){var s=m.Table,i=a??r.length;e^=4294967295;for(var o=i&7;o--;++t)e=e>>>8^s[(e^r[t])&255];for(var o=i>>3;o--;t+=8)e=e>>>8^s[(e^r[t])&255],e=e>>>8^s[(e^r[t+1])&255],e=e>>>8^s[(e^r[t+2])&255],e=e>>>8^s[(e^r[t+3])&255],e=e>>>8^s[(e^r[t+4])&255],e=e>>>8^s[(e^r[t+5])&255],e=e>>>8^s[(e^r[t+6])&255],e=e>>>8^s[(e^r[t+7])&255];return e^4294967295},single(r,e){return m.Table[(r^e)&255]^r>>>8},Table:function(){if(ie)return new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);var r=new Uint32Array(256),e,t,a;for(t=0;t<256;++t){for(e=t,a=0;a<8;++a)e=e&1?3988292384^e>>>1:e>>>1;r[t]=e>>>0}return r}()},N=class A{constructor(e,t=0){if(this.bitindex=0,this.index=t,this.buffer=e instanceof Uint8Array?e:new Uint8Array(A.DefaultBlockSize),this.buffer.length*2<=this.index)throw new Error("invalid index");this.buffer.length<=this.index&&this.expandBuffer()}static{this.DefaultBlockSize=32768}expandBuffer(){var e=this.buffer,t=new Uint8Array(e.length<<1);return t.set(e),this.buffer=t,t}rev32(e){return A.ReverseTable[e&255]<<24|A.ReverseTable[e>>>8&255]<<16|A.ReverseTable[e>>>16&255]<<8|A.ReverseTable[e>>>24&255]}writeBits(e,t,a=!1){var s=this.buffer,i=this.index,o=this.bitindex,h=s[i],f;if(a&&t>1&&(e=t>8?this.rev32(e)>>32-t:A.ReverseTable[e]>>8-t),t+o<8)h=h<<t|e,o+=t;else for(f=0;f<t;++f)h=h<<1|e>>t-f-1&1,++o===8&&(o=0,s[i++]=A.ReverseTable[h],h=0,i===s.length&&(s=this.expandBuffer()));s[i]=h,this.buffer=s,this.bitindex=o,this.index=i}finish(){var e=this.buffer,t=this.index,a;return this.bitindex>0&&(e[t]<<=8-this.bitindex,e[t]=A.ReverseTable[e[t]],t++),a=e.subarray(0,t),a}static{this.ReverseTable=function(){for(var e=new Uint8Array(256),t=0;t<256;++t){var a=t,s=7;for(t>>>=1;t;t>>>=1)a<<=1,a|=t&1,--s;e[t]=a<<s&255}return e}()}},se=class{constructor(r){this.buffer=new Uint16Array(r*2),this.length=0}getParent(r){return((r-2)/4|0)*2}getChild(r){return 2*r+2}push(r,e){var t,a,s=this.buffer,i;for(t=this.length,s[this.length++]=e,s[this.length++]=r;t>0&&(a=this.getParent(t),s[t]>s[a]);)i=s[t],s[t]=s[a],s[a]=i,i=s[t+1],s[t+1]=s[a+1],s[a+1]=i,t=a;return this.length}pop(){var r,e,t=this.buffer,a,s,i;for(e=t[0],r=t[1],this.length-=2,t[0]=t[this.length],t[1]=t[this.length+1],i=0;s=this.getChild(i),!(s>=this.length);){if(s+2<this.length&&t[s+2]>t[s]&&(s+=2),t[s]>t[i])a=t[i],t[i]=t[s],t[s]=a,a=t[i+1],t[i+1]=t[s+1],t[s+1]=a;else break;i=s}return{index:r,value:e,length:this.length}}};function D(r){var e=r.length,t,a,s,i,o,h,f=0,v=Number.POSITIVE_INFINITY;for(i=0;i<e;++i)r[i]>f&&(f=r[i]),r[i]<v&&(v=r[i]);var w=1<<f,c=new Uint32Array(w);for(t=1,a=0,s=2;t<=f;){for(i=0;i<e;++i)if(r[i]===t){var u=0,n=a;for(o=0;o<t;++o)u=u<<1|n&1,n>>=1;for(h=t<<16|i,o=u;o<w;o+=s)c[o]=h;++a}++t,a<<=1,s<<=1}return[c,f,v]}var W=8,K=32768,ne=32768,G=32768,k=32768,Y=258,R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),V=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258]),z=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0]),X=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577]),F=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),J=function(){var r=new Uint8Array(288),e,t;for(e=0,t=r.length;e<t;++e)r[e]=e<=143?8:e<=255?9:e<=279?7:8;return D(r)}(),Q=function(){var r=new Uint8Array(30),e,t;for(e=0,t=r.length;e<t;++e)r[e]=5;return D(r)}(),P=class{constructor(r,e={}){this.buffer=null,this.block=[],this.blocks=[],this.bufferSize=G,this.totalpos=0,this.ip=0,this.op=0,this.bitsbuf=0,this.bitsbuflen=0,this.bfinal=!1,this.bufferType=1,this.resize=!1,this.currentLitlenTable=null,this.input=r instanceof Uint8Array?r:new Uint8Array(r),this.ip=e.index??0,this.bufferSize=e.bufferSize??G,this.bufferType=e.bufferType??1,this.resize=e.resize??!1,this.bufferType==0?(this.op=k,this.output=new Uint8Array(k+this.bufferSize+Y)):(this.op=0,this.output=new Uint8Array(this.bufferSize))}decompress(){for(;!this.bfinal;)this.parseBlock();switch(this.bufferType){case 0:return this.concatBufferBlock();case 1:return this.concatBufferDynamic();default:throw new Error("invalid inflate mode")}}parseBlock(){var r=this.readBits(3);switch(r&1&&(this.bfinal=!0),r>>>=1,r){case 0:this.parseUncompressedBlock();break;case 1:this.parseFixedHuffmanBlock();break;case 2:this.parseDynamicHuffmanBlock();break;default:throw new Error("unknown BTYPE: "+r)}}readBits(r){var e=this.bitsbuf,t=this.bitsbuflen,a=this.input,s=this.ip,i=a.length,o;if(s+(r-t+7>>3)>=i)throw new Error("input buffer is broken");for(;t<r;)e|=a[s++]<<t,t+=8;return o=e&(1<<r)-1,e>>>=r,t-=r,this.bitsbuf=e,this.bitsbuflen=t,this.ip=s,o}readCodeByTable(r){for(var e=this.bitsbuf,t=this.bitsbuflen,a=this.input,s=this.ip,i=a.length,o=r[0],h=r[1];t<h&&!(s>=i);)e|=a[s++]<<t,t+=8;var f=o[e&(1<<h)-1],v=f>>>16;if(v>t)throw new Error("invalid code length: "+v);return this.bitsbuf=e>>v,this.bitsbuflen=t-v,this.ip=s,f&65535}parseUncompressedBlock(){var r=this.input,e=this.ip,t=this.output,a=this.op,s=r.length,i=t.length;if(this.bitsbuf=0,this.bitsbuflen=0,e+1>=s)throw new Error("invalid uncompressed block header: LEN");var o=r[e++]|r[e++]<<8;if(e+1>=s)throw new Error("invalid uncompressed block header: NLEN");var h=r[e++]|r[e++]<<8;if(o===~h)throw new Error("invalid uncompressed block header: length verify");if(e+o>r.length)throw new Error("input buffer is broken");switch(this.bufferType){case 0:for(;a+o>t.length;){var f=i-a;o-=f,t.set(r.subarray(e,e+f),a),a+=f,e+=f,this.op=a,t=this.expandBufferBlock(),a=this.op}break;case 1:for(;a+o>t.length;)t=this.expandBufferAdaptive(0,2);break;default:throw new Error("invalid inflate mode")}t.set(r.subarray(e,e+o),a),a+=o,e+=o,this.ip=e,this.op=a,this.output=t}parseFixedHuffmanBlock(){switch(this.bufferType){case 1:this.decodeHuffmanAdaptive(J,Q);break;case 0:this.decodeHuffmanBlock(J,Q);break;default:throw new Error("invalid inflate mode")}}parseDynamicHuffmanBlock(){for(var r=this.readBits(5)+257,e=this.readBits(5)+1,t=this.readBits(4)+4,a=new Uint8Array(R.length),s=0;s<t;++s)a[R[s]]=this.readBits(3);for(var i=D(a),o=new Uint8Array(r+e),h=0,s=0;s<r+e;){var f=this.readCodeByTable(i);switch(f){case 16:for(var v=3+this.readBits(2);v--;)o[s++]=h;break;case 17:for(var v=3+this.readBits(3);v--;)o[s++]=0;h=0;break;case 18:for(var v=11+this.readBits(7);v--;)o[s++]=0;h=0;break;default:o[s++]=f,h=f;break}}var w=D(o.subarray(0,r)),c=D(o.subarray(r));switch(this.bufferType){case 1:this.decodeHuffmanAdaptive(w,c);break;case 0:this.decodeHuffmanBlock(w,c);break;default:throw new Error("invalid inflate mode")}}decodeHuffmanBlock(r,e){var t=this.output,a=this.op;this.currentLitlenTable=r;for(var s=t.length-Y,i;(i=this.readCodeByTable(r))!==256;){if(i<256){a>=s&&(this.op=a,t=this.expandBufferBlock(),a=this.op),t[a++]=i;continue}var o=i-257,h=V[o];z[o]>0&&(h+=this.readBits(z[o])),i=this.readCodeByTable(e);var f=X[i];for(F[i]>0&&(f+=this.readBits(F[i])),a>=s&&(this.op=a,t=this.expandBufferBlock(),a=this.op);h--;)t[a]=t[a++-f]}for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=a}decodeHuffmanAdaptive(r,e){var t=this.output,a=this.op;this.currentLitlenTable=r;for(var s=t.length,i;(i=this.readCodeByTable(r))!==256;){if(i<256){a>=s&&(t=this.expandBufferAdaptive(),s=t.length),t[a++]=i;continue}var o=i-257,h=V[o];z[o]>0&&(h+=this.readBits(z[o])),i=this.readCodeByTable(e);var f=X[i];for(F[i]>0&&(f+=this.readBits(F[i])),a+h>s&&(t=this.expandBufferAdaptive(),s=t.length);h--;)t[a]=t[a++-f]}for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=a}expandBufferBlock(){var r=new Uint8Array(this.op-k),e=this.op-k,t=this.output;return r.set(t.subarray(k,r.length)),this.blocks.push(r),this.totalpos+=r.length,t.set(t.subarray(e,e+k)),this.op=k,t}expandBufferAdaptive(r=0,e){var t=Math.floor(this.input.length/this.ip+1),a,s=this.input,i=this.output;if(t=(e??t)+r,t<2){var o=(s.length-this.ip)/this.currentLitlenTable[2],h=Math.floor(o/2*258);a=h<i.length?i.length+h:i.length<<1}else a=i.length*t;var f=new Uint8Array(a);return f.set(i),this.output=f,this.output}concatBufferBlock(){var r=0,e=this.totalpos+(this.op-k),t=this.output,a=this.blocks,s=new Uint8Array(e),i,o;if(a.length===0)return this.output.subarray(k,this.op);for(var h=0;h<a.length;++h){var f=a[h];s.set(f,r),r+=f.length}for(var h=k;h<this.op;++h)s[r++]=t[h];return this.blocks=[],this.buffer=s,this.buffer}concatBufferDynamic(){var r=this.op,e;return this.resize?(e=new Uint8Array(r),e.set(this.output.subarray(0,r))):e=this.output.subarray(0,r),this.buffer=e,this.buffer}},E=3,$=258,fe=32768,oe=16,he=286,ve=function(){var r=[],e;for(e=0;e<288;e++)switch(!0){case e<=143:r.push([e+48,8]);break;case e<=255:r.push([e-144+400,9]);break;case e<=279:r.push([e-256+0,7]);break;case e<=287:r.push([e-280+192,8]);break;default:throw"invalid literal: "+e}return r}(),le=class te{constructor(e,t){this.length=e,this.backwardDistance=t}static{this.LengthCodeTable=function(){var e=[],t,a;for(t=3;t<=258;t++)a=s(t),e[t]=a[2]<<24|a[1]<<16|a[0];function s(i){switch(!0){case i===3:return[257,i-3,0];case i===4:return[258,i-4,0];case i===5:return[259,i-5,0];case i===6:return[260,i-6,0];case i===7:return[261,i-7,0];case i===8:return[262,i-8,0];case i===9:return[263,i-9,0];case i===10:return[264,i-10,0];case i<=12:return[265,i-11,1];case i<=14:return[266,i-13,1];case i<=16:return[267,i-15,1];case i<=18:return[268,i-17,1];case i<=22:return[269,i-19,2];case i<=26:return[270,i-23,2];case i<=30:return[271,i-27,2];case i<=34:return[272,i-31,2];case i<=42:return[273,i-35,3];case i<=50:return[274,i-43,3];case i<=58:return[275,i-51,3];case i<=66:return[276,i-59,3];case i<=82:return[277,i-67,4];case i<=98:return[278,i-83,4];case i<=114:return[279,i-99,4];case i<=130:return[280,i-115,4];case i<=162:return[281,i-131,5];case i<=194:return[282,i-163,5];case i<=226:return[283,i-195,5];case i<=257:return[284,i-227,5];case i===258:return[285,i-258,0];default:throw"invalid length: "+i}}return new Uint32Array(e)}()}getDistanceCode(e){var t;switch(!0){case e===1:t=[0,e-1,0];break;case e===2:t=[1,e-2,0];break;case e===3:t=[2,e-3,0];break;case e===4:t=[3,e-4,0];break;case e<=6:t=[4,e-5,1];break;case e<=8:t=[5,e-7,1];break;case e<=12:t=[6,e-9,2];break;case e<=16:t=[7,e-13,2];break;case e<=24:t=[8,e-17,3];break;case e<=32:t=[9,e-25,3];break;case e<=48:t=[10,e-33,4];break;case e<=64:t=[11,e-49,4];break;case e<=96:t=[12,e-65,5];break;case e<=128:t=[13,e-97,5];break;case e<=192:t=[14,e-129,6];break;case e<=256:t=[15,e-193,6];break;case e<=384:t=[16,e-257,7];break;case e<=512:t=[17,e-385,7];break;case e<=768:t=[18,e-513,8];break;case e<=1024:t=[19,e-769,8];break;case e<=1536:t=[20,e-1025,9];break;case e<=2048:t=[21,e-1537,9];break;case e<=3072:t=[22,e-2049,10];break;case e<=4096:t=[23,e-3073,10];break;case e<=6144:t=[24,e-4097,11];break;case e<=8192:t=[25,e-6145,11];break;case e<=12288:t=[26,e-8193,12];break;case e<=16384:t=[27,e-12289,12];break;case e<=24576:t=[28,e-16385,13];break;case e<=32768:t=[29,e-24577,13];break;default:throw"invalid distance"}return t}toLZ77Array(){var e=[],t=0,a=te.LengthCodeTable[this.length];e[t++]=a&65535,e[t++]=a>>16&255,e[t++]=a>>24;var s=this.getDistanceCode(this.backwardDistance);return e[t++]=s[0],e[t++]=s[1],e[t++]=s[2],e}},I=class{constructor(r,e={}){this.freqsLitLen=null,this.freqsDist=null,this.op=0,this.input=r instanceof Uint8Array?r:new Uint8Array(r),this.lazy=e.lazy??0,this.compressionType=e.compressionType??2,e.outputBuffer?this.output=e.outputBuffer instanceof Uint8Array?e.outputBuffer:new Uint8Array(e.outputBuffer):this.output=new Uint8Array(ne),this.op=e.outputIndex??0}compress(){var r=this.input,e=r.length;switch(this.compressionType){case 0:for(var t=0,e=r.length;t<e;){var a=r.subarray(t,t+65535);t+=a.length,this.makeNocompressBlock(a,t===e)}break;case 1:this.output=this.makeFixedHuffmanBlock(r,!0),this.op=this.output.length;break;case 2:this.output=this.makeDynamicHuffmanBlock(r,!0),this.op=this.output.length;break;default:throw"invalid compression type"}return this.output}makeNocompressBlock(r,e){var t=this.output,a=this.op;for(t=new Uint8Array(this.output.buffer);t.length<=a+r.length+5;)t=new Uint8Array(t.length<<1);t.set(this.output);var s=0;t[a++]=(e?1:0)|s<<1;var i=r.length,o=~i+65536&65535;return t[a++]=i&255,t[a++]=i>>>8&255,t[a++]=o&255,t[a++]=o>>>8&255,t.set(r,a),a+=r.length,t=t.subarray(0,a),this.op=a,this.output=t,t}makeFixedHuffmanBlock(r,e){var t=new N(new Uint8Array(this.output.buffer),this.op);t.writeBits(e?1:0,1,!0),t.writeBits(1,2,!0);var a=this.LZ77(r);return this.fixedHuffman(a,t),t.finish()}makeDynamicHuffmanBlock(r,e){var t=new N(new Uint8Array(this.output.buffer),this.op);t.writeBits(e?1:0,1,!0),t.writeBits(2,2,!0);var a=this.LZ77(r),s=this.getLengths(this.freqsLitLen,15),i=this.getCodesFromLengths(s),o=this.getLengths(this.freqsDist,7),h=this.getCodesFromLengths(o),f,v;for(f=286;f>257&&s[f-1]===0;f--);for(v=30;v>1&&o[v-1]===0;v--);var w=this.getTreeSymbols(f,s,v,o),c=this.getLengths(w.freqs,7),u=new Array(19);for(l=0;l<19;l++)u[l]=c[R[l]];for(var n=19;n>4&&u[n-1]===0;n--);var b=this.getCodesFromLengths(c);for(t.writeBits(f-257,5,!0),t.writeBits(v-1,5,!0),t.writeBits(n-4,4,!0),l=0;l<n;l++)t.writeBits(u[l],3,!0);for(var l=0;l<w.codes.length;l++){var d=w.codes[l],p;if(t.writeBits(b[d],c[d],!0),d>=16){switch(l++,d){case 16:p=2;break;case 17:p=3;break;case 18:p=7;break;default:throw"invalid code: "+d}t.writeBits(w.codes[l],p,!0)}}return this.dynamicHuffman(a,[i,s],[h,o],t),t.finish()}dynamicHuffman(r,e,t,a){for(var s=e[0],i=e[1],o=t[0],h=t[1],f=0;f<r.length;++f){var v=r[f],w;if(a.writeBits(s[v],i[v],!0),v>256)a.writeBits(r[++f],r[++f],!0),w=r[++f],a.writeBits(o[w],h[w],!0),a.writeBits(r[++f],r[++f],!0);else if(v===256)break}return a}fixedHuffman(r,e){for(var t=0;t<r.length;t++){var a=r[t];if(N.prototype.writeBits.apply(e,ve[a]),a>256)e.writeBits(r[++t],r[++t],!0),e.writeBits(r[++t],5),e.writeBits(r[++t],r[++t],!0);else if(a===256)break}return e}LZ77(r){var e={},t=null,a=new Uint16Array(r.length*2),s=0,i=0,o=new Uint32Array(30),h=this.lazy,f,v=new Uint32Array(286);v[256]=1;function w(B,S){for(var x=B.toLZ77Array(),y=0;y<x.length;++y)a[s++]=x[y];v[x[0]]++,o[x[3]]++,i=B.length+S-1,t=null}var c,u=r.length;for(c=0;c<u;++c){for(var n=0,b=0;b<E&&c+b!==u;++b)n=n<<8|r[c+b];e[n]===void 0&&(e[n]=[]);var l=e[n];if(i-- >0){l.push(c);continue}for(;l.length>0&&c-l[0]>fe;)l.shift();if(c+E>=u){t&&w(t,-1);for(var b=0,d=u-c;b<d;++b)f=r[c+b],a[s++]=f,++v[f];break}if(l.length>0){var p=this.searchLongestMatch(r,c,l);t?t.length<p.length?(f=r[c-1],a[s++]=f,++v[f],w(p,0)):w(t,-1):p.length<h?t=p:w(p,0)}else t?w(t,-1):(f=r[c],a[s++]=f,++v[f]);l.push(c)}return a[s++]=256,v[256]++,this.freqsLitLen=v,this.freqsDist=o,a.subarray(0,s)}searchLongestMatch(r,e,t){var a,s=0,i=r.length;e:for(var o=0;o<t.length;o++){var h=t[t.length-o-1],f=E;if(s>E){for(var v=s;v>E;v--)if(r[h+v-1]!==r[e+v-1])continue e;f=s}for(;f<$&&e+f<i&&r[h+f]===r[e+f];)++f;if(f>s&&(a=h,s=f),f===$)break}return new le(s,e-a)}getTreeSymbols(r,e,t,a){var s=new Uint32Array(r+t),i,o,h=r+t,f=new Uint32Array(316),v=new Uint8Array(19);for(o=0,i=0;i<r;i++)s[o++]=e[i];for(i=0;i<t;i++)s[o++]=a[i];var w=0;for(i=0,h=s.length;i<h;i+=o){for(o=1;i+o<h&&s[i+o]===s[i];++o);var c=o;if(s[i]===0)if(c<3)for(;c-- >0;)f[w++]=0,v[0]++;else for(;c>0;){var u=c<138?c:138;u>c-3&&u<c&&(u=c-3),u<=10?(f[w++]=17,f[w++]=u-3,v[17]++):(f[w++]=18,f[w++]=u-11,v[18]++),c-=u}else if(f[w++]=s[i],v[s[i]]++,c--,c<3)for(;c-- >0;)f[w++]=s[i],v[s[i]]++;else for(;c>0;){var u=c<6?c:6;u>c-3&&u<c&&(u=c-3),f[w++]=16,f[w++]=u-3,v[16]++,c-=u}}return{codes:f.subarray(0,w),freqs:v}}getLengths(r,e){for(var t=r.length,a=new se(2*he),s=new Uint8Array(t),i=0;i<t;++i)r[i]>0&&a.push(i,r[i]);var o=new Array(a.length/2),h=new Uint32Array(a.length/2);if(o.length===1)return s[a.pop().index]=1,s;for(var f=a.length/2,i=0;i<f;++i)o[i]=a.pop(),h[i]=o[i].value;var v=this.reversePackageMerge(h,h.length,e);for(i=0;i<o.length;++i)s[o[i].index]=v[i];return s}reversePackageMerge(r,e,t){var a=new Uint16Array(t),s=new Uint8Array(t),i=new Uint8Array(e),o=new Array(t),h=new Array(t),f=new Array(t);function v(p){var B=h[p][f[p]];B===e?(v(p+1),v(p+1)):--i[B],++f[p]}a[t-1]=e;for(var w=(1<<t)-e,c=1<<t-1,u=0;u<t;++u)w<c?s[u]=0:(s[u]=1,w-=c),w<<=1,a[t-2-u]=(a[t-1-u]/2|0)+e;a[0]=s[0],o[0]=new Array(a[0]),h[0]=new Array(a[0]);for(var u=1;u<t;++u)a[u]>2*a[u-1]+s[u]&&(a[u]=2*a[u-1]+s[u]),o[u]=new Array(a[u]),h[u]=new Array(a[u]);for(var n=0;n<e;++n)i[n]=t;for(var b=0;b<a[t-1];++b)o[t-1][b]=r[b],h[t-1][b]=b;for(var n=0;n<t;++n)f[n]=0;s[t-1]===1&&(--i[0],++f[t-1]);for(var u=t-2;u>=0;--u){for(var n=0,l=0,d=f[u+1],b=0;b<a[u];b++)l=o[u+1][d]+o[u+1][d+1],l>r[n]?(o[u][b]=l,h[u][b]=e,d+=2):(o[u][b]=r[n],h[u][b]=n,++n);f[u]=0,s[u]===1&&v(u)}return i}getCodesFromLengths(r){for(var e=new Uint16Array(r.length),t=[],a=[],s=0,i,o,h,f=0;f<r.length;f++)t[r[f]]=(t[r[f]]|0)+1;for(var f=1;f<=oe;f++)a[f]=s,s+=t[f]|0,s<<=1;for(var f=0;f<r.length;f++)for(s=a[r[f]],a[r[f]]+=1,e[f]=0,o=0,h=r[f];o<h;o++)e[f]=e[f]<<1|s&1,s>>>=1;return e}},H=[31,139],ue=class{constructor(r,e={}){this.ip=0,this.output=null,this.op=0,this.filename="",this.comment="",this.input=r,this.flags={},e.filename&&(this.filename=e.filename,this.flags.fname=!0),e.comment&&(this.comment=e.comment??"",this.flags.fcomment=!0),e.hcrc&&(this.flags.fhcrc=!0),this.deflateOptions=e.deflateOptions??{}}compress(){var r=new Uint8Array(K),e=0,t=this.input,a=this.ip,s=this.filename,i=this.comment;r[e++]=H[0],r[e++]=H[1],r[e++]=8;var o=0;this.flags.fname&&(o|=8),this.flags.fcomment&&(o|=16),this.flags.fhcrc&&(o|=2),r[e++]=o;var h=Math.floor(Date.now()/1e3);if(r[e++]=h&255,r[e++]=h>>>8&255,r[e++]=h>>>16&255,r[e++]=h>>>24&255,r[e++]=0,r[e++]=3,this.flags.fname){for(var f=0;f<i.length;++f){var v=s.charCodeAt(f);v>255&&(r[e++]=v>>>8&255),r[e++]=v&255}r[e++]=0}if(this.flags.fcomment){for(var f=0;f<i.length;++f){var v=i.charCodeAt(f);v>255&&(r[e++]=v>>>8&255),r[e++]=v&255}r[e++]=0}if(this.flags.fhcrc){var w=m.create(r,0,e)&65535;r[e++]=w&255,r[e++]=w>>>8&255}this.deflateOptions.outputBuffer=r,this.deflateOptions.outputIndex=e;var c=new I(t,this.deflateOptions);r=c.compress(),e=c.op,e+8>r.buffer.byteLength?(this.output=new Uint8Array(e+8),this.output.set(new Uint8Array(r.buffer)),r=this.output):r=new Uint8Array(r.buffer);var u=m.create(t);r[e++]=u&255,r[e++]=u>>>8&255,r[e++]=u>>>16&255,r[e++]=u>>>24&255;var n=t.length;return r[e++]=n&255,r[e++]=n>>>8&255,r[e++]=n>>>16&255,r[e++]=n>>>24&255,this.ip=a,e<r.length&&(this.output=r=r.subarray(0,e)),r}},ce=class{constructor(r){this.ip=0,this.member=[],this.decompressed=!1,this.input=r}getMembers(){return this.decompressed||this.decompress(),this.member.slice()}decompress(){for(var r=this.input.length;this.ip<r;)this.decodeMember();return this.decompressed=!0,this.concatMember()}decodeMember(){var r={},e=this.input,t=this.ip;if(r.id1=e[t++],r.id2=e[t++],r.id1!==H[0]||r.id2!==H[2])throw new Error("invalid file signature:"+r.id1+","+r.id2);if(r.cm=e[t++],r.cm!=8)throw new Error("unknown compression method: "+r.cm);var a=e[t++];r.flg=a;var s=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(r.mtime=new Date(s*1e3),r.xfl=e[t++],r.os=e[t++],(a&4)>0&&(r.xlen=e[t++]|e[t++]<<8,t=this.decodeSubField(t,r.xlen)),(a&8)>0){for(var i=[],o,h=0;(o=e[t++])>0;)i[h++]=String.fromCharCode(o);r.name=i.join("")}if((a&16)>0){for(var i=[],o,h=0;(o=e[t++])>0;)i[h++]=String.fromCharCode(o);r.comment=i.join("")}if((a&2)>0&&(r.crc16=m.create(e,0,t)&65535,r.crc16!==(e[t++]|e[t++]<<8)))throw new Error("invalid header crc16");var u=e[e.length-4]|e[e.length-3]<<8|e[e.length-2]<<16|e[e.length-1]<<24,f=void 0;e.length-t-4-4<u*512&&(f=u);var v=new P(e,{index:t,bufferSize:f}),w=v.decompress();r.data=w,t=v.ip;var c=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0;if(m.create(w)!==c)throw new Error("invalid CRC-32 checksum: 0x"+m.create(w).toString(16)+" / 0x"+c.toString(16));var u=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0;if((w.length&4294967295)!==u)throw new Error("invalid input size: "+(w.length&4294967295)+" / "+u);this.member.push(r),this.ip=t}decodeSubField(r,e){return r+e}concatMember(){for(var r=this.member,e=0,t=0;t<r.length;++t)e+=r[t].data.length;for(var a=0,s=new Uint8Array(e),t=0;t<r.length;++t)s.set(r[t].data,a),a+=r[t].data.length;return s}};function L(r){for(var e=new Uint8Array(r.length),t=0;t<e.length;t++)e[t]=r[t].charCodeAt(0)&255;return e}var C={getByte(r){var e=r[2]&65535|2;return e*(e^1)>>8&255},updateKeys(r,e){r[0]=m.single(r[0],e),r[1]=(((r[1]+(r[0]&255))*20173>>>0)*6681>>>0)+1>>>0,r[2]=m.single(r[2],r[1]>>>24)},createKey(r){typeof r=="string"&&(r=L(r));for(var e=new Uint32Array([305419896,591751049,878082192]),t=0;t<r.length;++t)this.updateKeys(e,r[t]&255);return e},decode(r,e){return e^=this.getByte(r),this.updateKeys(r,e),e},encode(r,e){var t=this.getByte(r);return this.updateKeys(r,e),t^e}},U=new Uint8Array([80,75,1,2]),T=new Uint8Array([80,75,3,4]),g=new Uint8Array([80,75,5,6]),be=class{constructor(r=[]){this.files=[],this.password=null,this.comment=r}addFile(r,e="",t={}){var a=r.length;r=r instanceof Uint8Array?r:new Uint8Array(r);var s=t.compressionMethod??8,i=0,o=!1;t.compress!=!1&&s==8&&(i=m.create(r),r=this.deflateWithOption(r,t),o=!0),this.files.push({filename:e,buffer:r,compressionMethod:s,option:t,compressed:o,encrypted:!1,size:a,crc32:i})}setPassword(r){this.password=r}compress(){for(var r=this.files,e=0,t=0,a=0;a<r.length;++a){var s=r[a],i=s.filename.length,o=s.option.extraField?s.option.extraField.length:0,h=s.option.comment?s.option.comment.length:0;if(s.compressed||(s.crc32=m.create(s.buffer),s.compressionMethod==8&&(s.buffer=this.deflateWithOption(s.buffer,s.option),s.compressed=!0)),s.option.password!=null||this.password!=null){var f=C.createKey(s.option.password??this.password),v=s.buffer,w=new Uint8Array(v.length+12);w.set(v,12),v=w;var c=0;for(c=0;c<12;++c)v[c]=C.encode(f,a===11?s.crc32&255:Math.random()*256|0);for(;c<v.length;++c)v[c]=C.encode(f,v[c]);s.buffer=v}e+=30+i+s.buffer.length,t+=46+i+h}var u=22+(this.comment?this.comment.length:0),n=new Uint8Array(e+t+u),b=0,l=e,d=l+t;for(a=0;a<r.length;++a){var s=r[a],i=s.filename.length,o=0,h=s.option.comment?s.option.comment.length:0,p=b;n[b++]=T[0],n[b++]=T[1],n[b++]=T[2],n[b++]=T[3],n[l++]=U[0],n[l++]=U[1],n[l++]=U[2],n[l++]=U[3];var B=20;n[l++]=B&255,n[l++]=s.option.os??0,n[b++]=n[l++]=B&255,n[b++]=n[l++]=B>>8&255;var S=0;(s.option.password!=null||this.password!=null)&&(S|=1),n[b++]=n[l++]=S&255,n[b++]=n[l++]=S>>8&255;var x=s.compressionMethod;n[b++]=n[l++]=x&255,n[b++]=n[l++]=x>>8&255;var y=s.option.date??new Date;n[b++]=n[l++]=(y.getMinutes()&7)<<5|(y.getSeconds()/2|0),n[b++]=n[l++]=y.getHours()<<3|y.getMinutes()>>3,n[b++]=n[l++]=(y.getMonth()+1&7)<<5|y.getDate(),n[b++]=n[l++]=(y.getFullYear()-1980&127)<<1|y.getMonth()+1>>3;var O=s.crc32;n[b++]=n[l++]=O&255,n[b++]=n[l++]=O>>8&255,n[b++]=n[l++]=O>>16&255,n[b++]=n[l++]=O>>24&255;var M=s.buffer.length;n[b++]=n[l++]=M&255,n[b++]=n[l++]=M>>8&255,n[b++]=n[l++]=M>>16&255,n[b++]=n[l++]=M>>24&255;var Z=s.size;n[b++]=n[l++]=Z&255,n[b++]=n[l++]=Z>>8&255,n[b++]=n[l++]=Z>>16&255,n[b++]=n[l++]=Z>>24&255,n[b++]=n[l++]=i&255,n[b++]=n[l++]=i>>8&255,n[b++]=n[l++]=o&255,n[b++]=n[l++]=o>>8&255,n[l++]=h&255,n[l++]=h>>8&255,n[l++]=0,n[l++]=0,n[l++]=0,n[l++]=0,n[l++]=0,n[l++]=0,n[l++]=0,n[l++]=0,n[l++]=p&255,n[l++]=p>>8&255,n[l++]=p>>16&255,n[l++]=p>>24&255;var j=s.filename;if(j){var ee=L(j);n.set(ee,b),n.set(ee,l),b+=i,l+=i}var q=s.option.extraField;q&&(n.set(q,b),n.set(q,l),b+=o,l+=o);var re=s.option.comment;if(re){var ke=L(re);n.set(ke,l),l+=h}n.set(s.buffer,b),b+=s.buffer.length}return n[d++]=g[0],n[d++]=g[1],n[d++]=g[2],n[d++]=g[3],n[d++]=0,n[d++]=0,n[d++]=0,n[d++]=0,n[d++]=r.length&255,n[d++]=r.length>>8&255,n[d++]=r.length&255,n[d++]=r.length>>8&255,n[d++]=t&255,n[d++]=t>>8&255,n[d++]=t>>16&255,n[d++]=t>>24&255,n[d++]=e&255,n[d++]=e>>8&255,n[d++]=e>>16&255,n[d++]=e>>24&255,h=this.comment?this.comment.length:0,n[d++]=h&255,n[d++]=h>>8&255,this.comment&&(n.set(this.comment,d),d+=h),n}deflateWithOption(r,e){var t=new I(r,e.deflateOptions);return t.compress()}};function we(r,e=0){var t={};if(r[e++]!==T[0]||r[e++]!==T[1]||r[e++]!==T[2]||r[e++]!==T[3])throw new Error("invalid local file header signature");return t.needVersion=r[e++]|r[e++]<<8,t.flags=r[e++]|r[e++]<<8,t.compression=r[e++]|r[e++]<<8,t.time=r[e++]|r[e++]<<8,t.date=r[e++]|r[e++]<<8,t.crc32=(r[e++]|r[e++]<<8|r[e++]<<16|r[e++]<<24)>>>0,t.compressedSize=(r[e++]|r[e++]<<8|r[e++]<<16|r[e++]<<24)>>>0,t.plainSize=(r[e++]|r[e++]<<8|r[e++]<<16|r[e++]<<24)>>>0,t.fileNameLength=r[e++]|r[e++]<<8,t.extraFieldLength=r[e++]|r[e++]<<8,t.filename=String.fromCharCode.apply(null,Array.from(r.subarray(e,e+=t.fileNameLength))),t.extraField=r.subarray(e,e+=t.extraFieldLength),t.length=e-t.offset,t}function de(r,a=0){var t={},a=a??0;if(r[a++]!==U[0]||r[a++]!==U[1]||r[a++]!==U[2]||r[a++]!==U[3])throw new Error("invalid file header signature");return t.version=r[a++],t.os=r[a++],t.needVersion=r[a++]|r[a++]<<8,t.flags=r[a++]|r[a++]<<8,t.compression=r[a++]|r[a++]<<8,t.time=r[a++]|r[a++]<<8,t.date=r[a++]|r[a++]<<8,t.crc32=(r[a++]|r[a++]<<8|r[a++]<<16|r[a++]<<24)>>>0,t.compressedSize=(r[a++]|r[a++]<<8|r[a++]<<16|r[a++]<<24)>>>0,t.plainSize=(r[a++]|r[a++]<<8|r[a++]<<16|r[a++]<<24)>>>0,t.fileNameLength=r[a++]|r[a++]<<8,t.extraFieldLength=r[a++]|r[a++]<<8,t.fileCommentLength=r[a++]|r[a++]<<8,t.diskNumberStart=r[a++]|r[a++]<<8,t.internalFileAttributes=r[a++]|r[a++]<<8,t.externalFileAttributes=r[a++]|r[a++]<<8|r[a++]<<16|r[a++]<<24,t.relativeOffset=(r[a++]|r[a++]<<8|r[a++]<<16|r[a++]<<24)>>>0,t.filename=String.fromCharCode.apply(null,Array.from(r.subarray(a,a+=t.fileNameLength))),t.extraField=r.subarray(a,a+=t.extraFieldLength),t.comment=r.subarray(a,a+t.fileCommentLength),t.length=a-t.offset,t}var pe=class{constructor(r,e){this.ip=0,this.input=r instanceof Uint8Array?r:new Uint8Array(r),this.verify=e.verify??!1,e.password&&(this.password=typeof e.password=="string"?L(e.password):e.password instanceof Uint8Array?e.password:new Uint8Array(e.password))}searchEOCD(){for(var r=this.input,e=r.length-12;e>0;--e)if(r[e]===g[0]&&r[e+1]===g[1]&&r[e+2]===g[2]&&r[e+3]===g[3]){this.eocdrOffset=e;return}throw new Error("End of Central Directory Record not found")}parseEOCD(){var r=this.input;this.eocdrOffset||this.searchEOCD();var e=this.eocdrOffset;if(r[e++]!==g[0]||r[e++]!==g[1]||r[e++]!==g[2]||r[e++]!==g[3])throw new Error("invalid signature");this.numberOfThisDisk=r[e++]|r[e++]<<8,this.startDisk=r[e++]|r[e++]<<8,this.totalEntriesThisDisk=r[e++]|r[e++]<<8,this.totalEntries=r[e++]|r[e++]<<8,this.centralDirectorySize=(r[e++]|r[e++]<<8|r[e++]<<16|r[e++]<<24)>>>0,this.centralDirectoryOffset=(r[e++]|r[e++]<<8|r[e++]<<16|r[e++]<<24)>>>0,this.commentLength=r[e++]|r[e++]<<8,this.comment=r.subarray(e,e+this.commentLength)}parseFileHeader(){var r=[],e={};if(!this.fileHeaderList){this.centralDirectoryOffset==null&&this.parseEOCD();for(var t=this.centralDirectoryOffset,a=0;a<this.totalEntries;++a){var s=de(this.input,t);t+=s.length,r[a]=s,e[s.filename]=a}if(this.centralDirectorySize<t-this.centralDirectoryOffset)throw new Error("invalid file header size");this.fileHeaderList=r,this.filenameToIndex=e}}getFileData(r,e={}){var t=this.input,a=this.fileHeaderList,s;if(a||this.parseFileHeader(),a[r]==null)throw new Error("wrong index");var i=a[r].relativeOffset,o=we(this.input,i);i+=o.length;var h=o.compressedSize;if(o.flags&1){var f=e.password??this.password;if(!f)throw new Error("encrypted: please set password");for(var v=C.createKey(f),w=i;w<i+12;++w)C.decode(v,t[w]);i+=12,h-=12;for(var w=i;w<i+h;++w)t[w]=C.decode(v,t[w])}if(o.compression==8?s=new P(this.input,{index:i,bufferSize:o.plainSize}).decompress():s=this.input.subarray(i,i+h),this.verify){var c=m.create(s);if(o.crc32!==c)throw new Error("Incorrect crc: file=0x"+o.crc32.toString(16)+", data=0x"+c.toString(16))}return s}getFilenames(){var r=[];this.fileHeaderList||this.parseFileHeader();for(var e=this.fileHeaderList,t=0;t<e.length;++t)r[t]=e[t].filename;return r}decompress(r,e={}){this.filenameToIndex||this.parseFileHeader();var t=this.filenameToIndex[r];if(t==null)throw new Error(r+" not found");return this.getFileData(t,e)}setPassword(r){typeof r=="string"?this.password=L(r):this.password=r instanceof Uint8Array?r:new Uint8Array(r)}},_={create(r){return typeof r=="string"&&(r=L(r)),this.update(1,r)},update(r,e){for(var t=r&65535,a=r>>16&65535,s=e.length,i=0;s>0;){var o=s>this.OptimizationParameter?this.OptimizationParameter:s;s-=o;do t+=e[i++],a+=t;while(--o);t%=65521,a%=65521}return(a<<16|t)>>>0},OptimizationParameter:1024},me=class ae{constructor(e,t={}){this.input=e,this.output=new Uint8Array(K);var a={};this.compressionType=t.compressionType??2,Object.assign(a,t),a.outputBuffer=this.output,this.rawDeflate=new I(this.input,a)}static compress(e,t){return new ae(e,t).compress()}compress(){var e=this.output,t=0,a=7,s=a<<4|W;e[t++]=s;var i=0,o=this.compressionType,h=o<<6|i<<5,f=31-(s*256+h)%31;h|=f,e[t++]=h;var v=_.create(this.input);return this.rawDeflate.op=t,e=this.rawDeflate.compress(),t=e.length,e=new Uint8Array(e.buffer),e.length<=t+4&&(this.output=new Uint8Array(e.length+4),this.output.set(e),e=this.output),e=e.subarray(0,t+4),e[t++]=v>>24&255,e[t++]=v>>16&255,e[t++]=v>>8&255,e[t++]=v&255,e}},ge=class{constructor(r,e={}){this.ip=0,this.input=r,this.ip=e.index??0,this.verify=e.verify??!1;var t=r[this.ip++],a=r[this.ip++];if((t&15)!=W)throw new Error("unsupported compression method");if(((t<<8)+a)%31!==0)throw new Error("invalid fcheck flag:"+((t<<8)+a)%31);if(a&32)throw new Error("fdict flag is not supported");this.rawinflate=new P(r,{index:this.ip,bufferSize:e.bufferSize,bufferType:e.bufferType,resize:e.resize})}decompress(){var r=this.input,e;if(e=this.rawinflate.decompress(),this.ip=this.rawinflate.ip,this.verify){var t=(r[this.ip++]<<24|r[this.ip++]<<16|r[this.ip++]<<8|r[this.ip++])>>>0;if(t!==_.create(e))throw new Error("invalid adler-32 checksum")}return e}},ye={GZip:ue,GUnzip:ce,Zip:be,Unzip:pe,Deflate:me,Inflate:ge};window.Zlib=ye})();
